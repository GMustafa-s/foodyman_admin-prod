{"version":3,"file":"static/js/9763.b2da75cc.chunk.js","mappings":"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","sources":["views/settings/app-setting.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, Card, Col, Form, Input, Row } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport settingService from '../../services/settings';\nimport { toast } from 'react-toastify';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch, setMenuData } from '../../redux/slices/menu';\nimport { fetchSettings as getSettings } from '../../redux/slices/globalSettings';\nimport Loading from '../../components/loading';\nimport useDemo from '../../helpers/useDemo';\n\nexport default function AppSettings() {\n  const { t } = useTranslation();\n  const [form] = Form.useForm();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n\n  const [loading, setLoading] = useState(false);\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const { isDemo } = useDemo();\n\n  useEffect(() => {\n    return () => {\n      const data = form.getFieldsValue(true);\n      dispatch(setMenuData({ activeMenu, data }));\n    };\n  }, []);\n\n  const createSettings = (list) => {\n    const result = list.map((item) => ({\n      [item.key]: item.value,\n    }));\n    return Object.assign({}, ...result);\n  };\n\n  function fetchSettings() {\n    setLoading(true);\n    settingService\n      .get()\n      .then((res) => {\n        const data = createSettings(res.data);\n        form.setFieldsValue(data);\n      })\n      .finally(() => {\n        setLoading(false);\n        dispatch(disableRefetch(activeMenu));\n      });\n  }\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      fetchSettings();\n    }\n  }, [activeMenu.refetch]);\n\n  function updateSettings(data) {\n    setLoadingBtn(true);\n    settingService\n      .update(data)\n      .then(() => {\n        toast.success(t('successfully.updated'));\n        dispatch(getSettings());\n      })\n      .finally(() => setLoadingBtn(false));\n  }\n\n  const onFinish = (values) => {\n    updateSettings(values);\n  };\n\n  const handleClick = () => {\n    if (isDemo) {\n      toast.warning(t('cannot.work.demo'));\n      return;\n    }\n    form.submit();\n  };\n\n  return (\n    <Form\n      layout='vertical'\n      form={form}\n      name='global-settings'\n      onFinish={onFinish}\n      initialValues={{ ...activeMenu.data }}\n    >\n      {!loading ? (\n        <Card\n          title={t('social.settings')}\n          extra={\n            <Button\n              type='primary'\n              onClick={() => handleClick()}\n              loading={loadingBtn}\n            >\n              {t('save')}\n            </Button>\n          }\n        >\n          <Row gutter={12}>\n            <Col span={12}>\n              <Form.Item\n                label={'Vendor App IOS'}\n                name='vendor_app_ios'\n                rules={[\n                  {\n                    required: true,\n                    message: t('required'),\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item\n                label={'Vendor App Android'}\n                name='vendor_app_android'\n                rules={[\n                  {\n                    required: true,\n                    message: t('required'),\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n\n            <Col span={12}>\n              <Form.Item\n                label={'Delivery App IOS'}\n                name='delivery_app_ios'\n                rules={[\n                  {\n                    required: true,\n                    message: t('required'),\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item\n                label={'Delivery App Android'}\n                name='delivery_app_android'\n                rules={[\n                  {\n                    required: true,\n                    message: t('required'),\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n\n            <Col span={12}>\n              <Form.Item\n                label={'Customer App IOS'}\n                name='customer_app_ios'\n                rules={[\n                  {\n                    required: true,\n                    message: t('required'),\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item\n                label={'Customer App Android'}\n                name='customer_app_android'\n                rules={[\n                  {\n                    required: true,\n                    message: t('required'),\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n          </Row>\n        </Card>\n      ) : (\n        <Loading />\n      )}\n    </Form>\n  );\n}\n"],"names":["AppSettings","t","useTranslation","form","Form","activeMenu","useSelector","state","menu","shallowEqual","dispatch","useDispatch","loading","setLoading","useState","loadingBtn","setLoadingBtn","isDemo","useDemo","useEffect","data","getFieldsValue","setMenuData","fetchSettings","settingService","then","res","list","result","map","item","key","value","Object","assign","createSettings","setFieldsValue","finally","disableRefetch","refetch","_jsx","layout","name","onFinish","values","toast","getSettings","initialValues","children","Loading","Card","title","extra","Button","type","onClick","submit","_jsxs","Row","gutter","Col","span","label","rules","required","message","Input"],"sourceRoot":""}