"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5518],{71819:(e,l,a)=>{a.d(l,{Z:()=>r});a(72791);const r=a.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},61801:(e,l,a)=>{a.d(l,{q:()=>d});var r=a(72791),s=a(66818),i=a(37083),n=a(80184);const d=e=>{let{fetchOptions:l,refetch:a=!1,...d}=e;const[t,u]=(0,r.useState)(!1),[c,m]=(0,r.useState)([]);return(0,n.jsx)(s.Z,{labelInValue:!0,filterOption:!1,notFoundContent:t?(0,n.jsx)(i.Z,{size:"small"}):"no results",...d,options:t?[]:c,onFocus:()=>{c.length&&!a||(u(!0),l().then((e=>{m(e),u(!1)})))}})}},85518:(e,l,a)=>{a.r(l),a.d(l,{default:()=>w});var r=a(72791),s=a(77483),i=a(54080),n=a(66106),d=a(30914),t=a(66818),u=a(37083),c=a(86005),m=a(25581),o=a(87309),p=a(33168),x=a(48030),h=a(79337),j=a(30577),Z=a(16871),b=a(71819),v=a(56355),y=a(60978),q=a(7487),g=a(41513),f=a(26650),k=a(61801),I=a(178),_=a(69966),F=a(11918),P=a(80184);function w(){var e,l,a,w,C,N;const{t:A}=(0,p.$)(),[V]=s.Z.useForm(),[z,O]=(0,r.useState)(!1),[$,L]=(0,r.useState)(!1),[S,W]=(0,r.useState)([]),[M,U]=(0,r.useState)(null),{activeMenu:R}=(0,h.v9)((e=>e.menu),h.wU),[B,D]=(0,r.useState)(null!==(e=R.data)&&void 0!==e&&e.image?[null===(l=R.data)||void 0===l?void 0:l.image]:[]),{defaultCurrency:E}=(0,h.v9)((e=>e.currency),h.wU),K=(0,h.I0)(),T=(0,Z.s0)();(0,r.useEffect)((()=>{!async function(){L(!0),f.Z.getAll().then((e=>{let{data:l}=e;const a=l.filter((e=>"wallet"!==e.tag)).filter((e=>"cash"!==e.tag)).map((e=>({label:e.tag[0].toUpperCase()+e.tag.substring(1),value:e.id,key:e.id})));W(a)})).finally((()=>L(!1)))}()}),[]);return(0,P.jsx)(i.Z,{title:A("add.payment.payloads"),className:"h-100",children:(0,P.jsxs)(s.Z,{layout:"vertical",name:"user-address",form:V,onFinish:e=>{var l,a;delete e.payment_id,"FlutterWave"!==(null===M||void 0===M?void 0:M.label)||B[0]?(O(!0),g.x.create({payment_id:M.value,payload:{...e,logo:B[0]?B[0].name:void 0,paypal_currency:null===(l=e.paypal_currency)||void 0===l?void 0:l.label,currency:(null===(a=e.currency)||void 0===a?void 0:a.label)||e.currency,paypal_validate_ssl:null!==e&&void 0!==e&&e.paypal_validate_ssl?Number(null===e||void 0===e?void 0:e.paypal_validate_ssl):void 0,sandbox:"undefined"!==typeof(null===e||void 0===e?void 0:e.sandbox)?Number(Boolean(null===e||void 0===e?void 0:e.sandbox)):void 0}}).then((()=>{const e="payment-payloads";j.Am.success(A("successfully.created")),(0,h.dC)((()=>{K((0,x.ph)({...R,nextUrl:e})),K((0,q.j)({})),K((0,x.xo)(R))})),T(`/${e}`)})).catch((e=>{var l,a,r;j.Am.dismiss(),j.Am.error(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a||null===(r=a.params)||void 0===r?void 0:r.payment_id[0])})).finally((()=>O(!1)))):j.Am.error(A("choose.payload.image"))},children:[(0,P.jsxs)(n.Z,{gutter:12,children:[(0,P.jsx)(d.Z,{span:"Cash"===(null===M||void 0===M?void 0:M.label)||"Wallet"===(null===M||void 0===M?void 0:M.label)?12:24,children:(0,P.jsx)(s.Z.Item,{label:A("payment"),name:"payment_id",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(t.Z,{notFoundContent:$?(0,P.jsx)(u.Z,{size:"small"}):"no results",allowClear:!0,options:S,onSelect:e=>{const l=S.find((l=>l.value===e));switch(l.label){case"Paypal":V.setFieldsValue({paypal_validate_ssl:!0,paypal_locale:_.Z.language,paypal_currency:{label:null===E||void 0===E?void 0:E.title,value:null===E||void 0===E?void 0:E.id}});break;case"Stripe":case"Razorpay":case"Paystack":case"FlutterWave":case"Mollie":case"Moya-sar":case"Paytabs":case"Zain-cash":V.setFieldsValue({currency:null===E||void 0===E?void 0:E.title});break;case"Mercado-pago":V.setFieldsValue({currency:null===E||void 0===E?void 0:E.title,sandbox:!0});break;case"Pay-fast":V.setFieldsValue({sandbox:!0});break;default:V.resetFields()}U(l)}})})}),"Cash"===(null===M||void 0===M?void 0:M.label)||"Wallet"===(null===M||void 0===M?void 0:M.label)?"":(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:24,className:"d-flex justify-content-center mt-4 mb-5",children:(e=>{switch(e){case"Paypal":return(0,P.jsx)(v.kD0,{size:80});case"Stripe":return(0,P.jsx)(y.K6C,{size:80});case"Razorpay":return(0,P.jsx)(y.r98,{size:80});case"Paystack":return(0,P.jsx)("img",{src:b.Z,alt:"img",width:"80",height:"80"});case"Flutterwave":return(0,P.jsx)(y.Bq1,{size:80});default:return null}})(null===M||void 0===M?void 0:M.label)}),"Paystack"===(null===M||void 0===M?void 0:M.label)?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("paystack.pk"),name:"paystack_pk",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("paystack.sk"),name:"paystack_sk",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})})," ",(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):"Paypal"===(null===M||void 0===M?void 0:M.label)?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("paypal.mode"),name:"paypal_mode",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(t.Z,{options:[{value:"live",label:A("live")},{value:"sandbox",label:A("sandbox")}]})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("paypal.currency"),name:"paypal_currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("paypal.sandbox.client.id"),name:"paypal_sandbox_client_id",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("paypal.sandbox.client.secret"),name:"paypal_sandbox_client_secret",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("paypal.live.client.id"),name:"paypal_live_client_id",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("paypal.live.client.secret"),name:"paypal_live_client_secret",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})})]}):"Stripe"===(null===M||void 0===M?void 0:M.label)?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("stripe.pk"),name:"stripe_pk",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("stripe.sk"),name:"stripe_sk",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})})," ",(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):"Razorpay"===(null===M||void 0===M?void 0:M.label)?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("razorpay.key"),name:"razorpay_key",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("razorpay.secret"),name:"razorpay_secret",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})})," ",(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):"FlutterWave"===(null===M||void 0===M?void 0:M.label)?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("payload.title"),name:"title",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("payload.description"),name:"description",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("flw_sk"),name:"flw_sk",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})}),(0,P.jsx)(d.Z,{span:6,children:(0,P.jsx)(s.Z.Item,{rules:[{required:!0}],label:A("logo"),children:(0,P.jsx)(F.Z,{type:"brands",imageList:B,setImageList:D,form:V,multiple:!1})})})]}):"mollie"===(null===M||void 0===M?void 0:M.label.toLowerCase())?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("partner.id"),name:"partner_id",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("profile.id"),name:"profile_id",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("secret.key"),name:"secret_key",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})}),(0,P.jsx)(d.Z,{span:6,children:(0,P.jsx)(s.Z.Item,{rules:[{required:!0}],label:A("logo"),children:(0,P.jsx)(F.Z,{type:"brands",imageList:B,setImageList:D,form:V,multiple:!1})})})]}):"moya-sar"===(null===M||void 0===M||null===(a=M.label)||void 0===a?void 0:a.toLowerCase())?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("public.key"),name:"public_key",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("secret.key"),name:"secret_key",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("secret.token"),name:"secret_token",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})}),(0,P.jsx)(d.Z,{span:6,children:(0,P.jsx)(s.Z.Item,{rules:[{required:!0}],label:A("logo"),children:(0,P.jsx)(F.Z,{type:"brands",imageList:B,setImageList:D,form:V,multiple:!1})})})]}):"paytabs"===(null===M||void 0===M||null===(w=M.label)||void 0===w?void 0:w.toLowerCase())?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("server.key"),name:"server_key",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("profile.id"),name:"profile_id",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("client.key"),name:"client_key",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):"zain-cash"===(null===M||void 0===M||null===(C=M.label)||void 0===C?void 0:C.toLowerCase())?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("url"),name:"url",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("msisdn"),name:"msisdn",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("merchantId"),name:"merchantId",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("key"),name:"key",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})})]}):"mercado-pago"===(null===M||void 0===M||null===(N=M.label)||void 0===N?void 0:N.toLowerCase())?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("token"),name:"token",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("currency"),name:"currency",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(k.q,{placeholder:A("select.currency"),valuePropName:"label",defaultValue:{value:E.id,label:E.title},fetchOptions:()=>I.Z.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:`${e.title}`,key:e.id})))}))})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("sandbox"),name:"sandbox",children:(0,P.jsx)(m.Z,{defaultChecked:!0})})})]}):"Pay-fast"===(null===M||void 0===M?void 0:M.label)?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("merchant.id"),name:"merchant_id",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("merchant.key"),name:"merchant_key",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("pass.phrase"),name:"pass_phrase",rules:[{required:!0,message:A("required")}],children:(0,P.jsx)(c.Z,{})})}),(0,P.jsx)(d.Z,{span:12,children:(0,P.jsx)(s.Z.Item,{label:A("sandbox"),name:"sandbox",valuePropName:"checked",children:(0,P.jsx)(m.Z,{})})})]}):null]})]}),(0,P.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,P.jsx)("div",{className:"pb-5",children:(0,P.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:z,disabled:z,children:A("submit")})})})]})})}}}]);
//# sourceMappingURL=5518.bff3960d.chunk.js.map