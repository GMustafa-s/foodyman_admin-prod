"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5731],{15731:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var l=a(72791),r=a(77483),i=a(54080),d=a(66106),n=a(30914),t=a(66818),u=a(86005),m=a(25581),c=a(83099),h=a(87309),j=a(33168),x=a(78763),Z=a(94659),p=a(79337),o=a(30577),_=a(48030),b=a(16871),q=a(63446),y=a(80184);const w=[{title:"firebase",value:"firebase"},{title:"twilio",value:"twilio"}];function g(){const[e]=r.Z.useForm(),{t:s}=(0,j.$)(),[a,g]=(0,l.useState)(!1),[f,k]=(0,l.useState)(!1),I=(0,p.I0)(),N=(0,b.s0)(),{activeMenu:v}=(0,p.v9)((e=>e.menu),p.wU),{type:F}=(0,b.UO)(),[C,U]=(0,l.useState)(null),{smsGatewaysList:S}=(0,p.v9)((e=>e.sms),p.wU);(0,l.useEffect)((()=>{v.refetch&&(s=>{k(!0),x.Z.getById(s).then((s=>{const a=s.data;e.setFieldsValue({default:Boolean(a.default),...a.payload}),U(a.type)})).finally((()=>{k(!1),I((0,_.A_)(v))}))})(F)}),[v.refetch]);return(0,y.jsx)(i.Z,{title:s("edit.sms.payload"),className:"h-100",children:f?(0,y.jsx)(q.Z,{}):(0,y.jsx)(r.Z,{form:e,layout:"vertical",onFinish:e=>{g(!0);const a={type:C,default:Number(e.default),payload:{type:void 0,default:void 0,...e}},l="settings/sms-payload";x.Z.update(F,a).then((()=>{o.Am.success(s("successfully.updated")),(0,p.dC)((()=>{I((0,Z.z)()),I((0,_.ph)({...v,nextUrl:l}))})),N(`/${l}`)})).finally((()=>g(!1)))},children:(0,y.jsxs)(i.Z,{title:s("add.sms.payload"),children:[(0,y.jsxs)(d.Z,{gutter:12,children:[(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("select.type"),rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(t.Z,{disabled:!0,className:"w-100",onChange:e=>U(e),value:C,options:w.filter((e=>!S.some((s=>s.type===e.value))))})})}),"firebase"===F&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("android_api_key"),name:"android_api_key",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("api_key"),name:"api_key",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("app_id"),name:"app_id",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("auth_domain"),name:"auth_domain",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("ios_api_key"),name:"ios_api_key",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("measurement_id"),name:"measurement_id",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("message_sender_id"),name:"message_sender_id",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("project_id"),name:"project_id",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("server_key"),name:"server_key",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("storage_bucket"),name:"storage_bucket",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("vapid_key"),name:"vapid_key",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("default"),name:"default",valuePropName:"checked",children:(0,y.jsx)(m.Z,{})})})]}),"twilio"===F&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("twilio_auth_token"),name:"twilio_auth_token",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{min:0,className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("twilio_account_id"),name:"twilio_account_id",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("twilio_number"),name:"twilio_number",rules:[{required:!0,message:s("required")}],children:(0,y.jsx)(u.Z,{className:"w-100"})})}),(0,y.jsx)(n.Z,{span:12,children:(0,y.jsx)(r.Z.Item,{label:s("default"),name:"default",valuePropName:"checked",children:(0,y.jsx)(m.Z,{})})})]})]}),(0,y.jsx)(c.Z,{children:(0,y.jsx)(h.Z,{type:"primary",htmlType:"submit",loading:a,children:s("submit")})})]})})})}}}]);
//# sourceMappingURL=5731.49d3f494.chunk.js.map