"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1260],{12098:(e,t,l)=>{function i(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const i=null===e||void 0===e?void 0:e.map((e=>({[null===e||void 0===e?void 0:e.locale]:t[`${l}[${null===e||void 0===e?void 0:e.locale}]`]?t[`${l}[${null===e||void 0===e?void 0:e.locale}]`]:void 0})));return Object.assign({},...i)}l.d(t,{Z:()=>i})},61260:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Z});var i=l(72791),s=l(16871),n=l(30577),a=l(77483),o=l(54080),c=l(37083),d=l(79337),u=l(48030),r=l(69765),v=l(35261),f=l(87320),h=l(12098),g=l(62605),m=l(33168),p=l(53015),b=l(80184);function Z(){const{t:e}=(0,m.$)(),{activeMenu:t}=(0,d.v9)((e=>e.menu),d.wU),{languages:l}=(0,d.v9)((e=>e.formLang),d.wU),Z=(0,d.I0)(),[j]=a.Z.useForm(),x=(0,s.s0)(),{uuid:$}=(0,s.UO)(),[y,_]=(0,i.useState)(!1);(0,i.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);Z((0,u.nc)({activeMenu:t,data:e}))}),[]);function k(e){if(!e)return{};const{translations:t}=e,i=l.map((e=>{var l,i,s;return{[`title[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.title,[`description[${e.locale}]`]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.description,[`short_desc[${e.locale}]`]:null===(s=t.find((t=>t.locale===e.locale)))||void 0===s?void 0:s.short_desc}}));return Object.assign({},...i)}return(0,i.useEffect)((()=>{t.refetch&&(e=>{_(!0),v.Z.getById(e).then((e=>{let l=e.data;const i={...l,...k(l),image:[(0,g.Z)(l.img)]};j.setFieldsValue(i),Z((0,u.nc)({activeMenu:t,data:i}))})).finally((()=>{_(!1),Z((0,u.A_)(t))}))})($)}),[t.refetch]),(0,b.jsx)(o.Z,{title:e("edit.blog"),extra:(0,b.jsx)(f.Z,{}),children:y?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(c.Z,{size:"large",className:"py-5"})}):(0,b.jsx)(p.Z,{form:j,handleSubmit:(i,s)=>{const a="blogs",o={status:"published",type:"blog"},c={type:"blog",active:i.active?1:0,images:s.length?s.map((e=>e.name)):void 0,title:(0,h.Z)(l,i),description:(0,h.Z)(l,i,"description"),short_desc:(0,h.Z)(l,i,"short_desc")};return v.Z.update($,c).then((()=>{n.Am.success(e("successfully.created")),(0,d.dC)((()=>{Z((0,u.ph)({...t,nextUrl:a})),Z((0,r.J)(o))})),x("/blogs")}))}})})}}}]);
//# sourceMappingURL=1260.0e89c89f.chunk.js.map