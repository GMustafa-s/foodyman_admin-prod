{"version":3,"file":"static/js/2588.17ab36f4.chunk.js","mappings":"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","sources":["helpers/numberToPrice.js","views/seller-views/my-shop/index.js"],"sourcesContent":["import { store } from 'redux/store';\n\nexport default function numberToPrice(number = 0, symbol, position) {\n  const defaultCurrency = store.getState()?.currency?.defaultCurrency;\n  const price = Number(number)\n    .toFixed(2)\n    .replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n  const currencySymbol = symbol || defaultCurrency?.symbol || '$';\n  const currencyPosition = position || defaultCurrency?.position || 'before';\n\n  return currencyPosition === 'after'\n    ? `${price} ${currencySymbol}`\n    : `${currencySymbol} ${price}`;\n}\n","import React, { useEffect, useState } from 'react';\nimport {\n  Button,\n  Card,\n  Col,\n  Descriptions,\n  Image,\n  message,\n  Row,\n  Spin,\n  Switch,\n} from 'antd';\nimport shopService from '../../../services/seller/shop';\nimport getImage from '../../../helpers/getImage';\nimport { WEBSITE_URL } from '../../../configs/app-global';\nimport { EditOutlined } from '@ant-design/icons';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  addMenu,\n  disableRefetch,\n  setRefetch,\n} from '../../../redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport { fetchMyShop } from '../../../redux/slices/myShop';\nimport numberToPrice from '../../../helpers/numberToPrice';\nimport useDemo from '../../../helpers/useDemo';\n\nexport default function MyShop() {\n  const { t } = useTranslation();\n  const [statusLoading, setStatusLoading] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { myShop } = useSelector((state) => state.myShop, shallowEqual);\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { myShop: data, loading } = useSelector(\n    (state) => state.myShop,\n    shallowEqual,\n  );\n  const { defaultCurrency } = useSelector(\n    (state) => state.currency,\n    shallowEqual,\n  );\n  const { user } = useSelector((state) => state.auth, shallowEqual);\n  const { isDemo, demoShop } = useDemo();\n\n  const goToEdit = () => {\n    dispatch(\n      addMenu({\n        data: data.uuid,\n        id: 'edit-shop',\n        url: `my-shop/edit`,\n        name: t('edit.shop'),\n      }),\n    );\n    navigate(`/my-shop/edit`);\n  };\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchMyShop());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  function workingStatusChange() {\n    setStatusLoading(true);\n    shopService\n      .setWorkingStatus()\n      .then(() => dispatch(setRefetch(activeMenu)))\n      .finally(() => setStatusLoading(false));\n  }\n\n  function copyToClipboard() {\n    const text = WEBSITE_URL + '/invite/' + data.uuid;\n    navigator.clipboard.writeText(text);\n    message.success(t('copied.to.clipboard'));\n  }\n\n  return (\n    <Card\n      title={t('my.shop')}\n      extra={\n        user?.role !== 'seller' ? null : (\n          <Button type='primary' icon={<EditOutlined />} onClick={goToEdit}>\n            {t('shop.edit')}\n          </Button>\n        )\n      }\n    >\n      {!loading ? (\n        <Row gutter={12}>\n          <Col span={20}>\n            <div className='position-relative'>\n              <Descriptions bordered>\n                <Descriptions.Item label={t('shop.name')} span={2}>\n                  {data.translation?.title}\n                </Descriptions.Item>\n                <Descriptions.Item label={t('shop.address')} span={2}>\n                  {data.translation?.address}\n                </Descriptions.Item>\n                <Descriptions.Item label={t('phone')} span={2}>\n                  {data.phone}\n                </Descriptions.Item>\n                <Descriptions.Item label={t('tax')} span={2}>\n                  {data.tax}\n                </Descriptions.Item>\n                <Descriptions.Item label={t('background.image')} span={2}>\n                  {data.background_img ? (\n                    <Image\n                      width={200}\n                      src={getImage(data.background_img)}\n                      alt={'shop'}\n                    />\n                  ) : (\n                    ''\n                  )}\n                </Descriptions.Item>\n                <Descriptions.Item label={t('logo.image')} span={2}>\n                  {data.logo_img ? (\n                    <Image\n                      width={200}\n                      src={getImage(data.logo_img)}\n                      alt={'shop'}\n                    />\n                  ) : (\n                    ''\n                  )}\n                </Descriptions.Item>\n                <Descriptions.Item label={t('open')} span={2}>\n                  <Switch\n                    name='open'\n                    defaultChecked={data.open}\n                    onChange={workingStatusChange}\n                    disabled={isDemo && data.id == demoShop}\n                  />\n                </Descriptions.Item>\n\n                {/* <Descriptions.Item label={t('invitation.link')} span={2}>\n                  <Button type='link' onClick={copyToClipboard}>\n                    {t('copy.invitation.link')}\n                  </Button>\n                </Descriptions.Item> */}\n                <Descriptions.Item label={t('wallet')} span={2}>\n                  {numberToPrice(\n                    data.seller?.wallet?.price,\n                    defaultCurrency?.symbol,\n                    defaultCurrency?.symbol,\n                  )}\n                </Descriptions.Item>\n              </Descriptions>\n              {data.subscription ? (\n                <Descriptions\n                  title={t('subscription')}\n                  bordered\n                  className='mt-5'\n                >\n                  <Descriptions.Item label={t('type')} span={3}>\n                    {data.subscription?.type}\n                  </Descriptions.Item>\n                  <Descriptions.Item label={t('price')} span={3}>\n                    {numberToPrice(\n                      data.subscription?.price,\n                      defaultCurrency?.symbol,\n                      defaultCurrency?.symbol,\n                    )}\n                  </Descriptions.Item>\n                  <Descriptions.Item label={t('expired.at')} span={3}>\n                    {data.subscription?.expired_at}\n                  </Descriptions.Item>\n                </Descriptions>\n              ) : (\n                ''\n              )}\n              {statusLoading && (\n                <div className='loader'>\n                  <Spin />\n                </div>\n              )}\n            </div>\n          </Col>\n        </Row>\n      ) : (\n        <div className='d-flex justify-content-center align-items-center'>\n          <Spin size='large' className='py-5' />\n        </div>\n      )}\n    </Card>\n  );\n}\n"],"names":["numberToPrice","_store$getState","_store$getState$curre","number","arguments","length","undefined","symbol","position","defaultCurrency","store","currency","price","Number","toFixed","replace","currencySymbol","currencyPosition","MyShop","_data$translation","_data$translation2","_data$seller","_data$seller$wallet","_data$subscription","_data$subscription2","_data$subscription3","t","useTranslation","statusLoading","setStatusLoading","useState","dispatch","useDispatch","navigate","useNavigate","myShop","useSelector","state","shallowEqual","activeMenu","menu","data","loading","user","auth","isDemo","demoShop","useDemo","useEffect","refetch","fetchMyShop","disableRefetch","_jsx","Card","title","extra","role","Button","type","icon","EditOutlined","onClick","goToEdit","addMenu","uuid","id","url","name","children","className","Spin","size","Row","gutter","Col","span","_jsxs","Descriptions","bordered","label","translation","address","phone","tax","background_img","Image","width","src","getImage","alt","logo_img","Switch","defaultChecked","open","onChange","shopService","then","setRefetch","finally","disabled","seller","wallet","subscription","expired_at"],"sourceRoot":""}