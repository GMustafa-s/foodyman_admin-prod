{"version":3,"file":"static/js/5513.203e26aa.chunk.js","mappings":"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","sources":["helpers/formatSortType.js","helpers/numberToPrice.js","views/deliveryman-payment-from-partners/copleted-list.js"],"sourcesContent":["export default function formatSortType(type) {\n  switch (type) {\n    case 'ascend':\n      return 'asc';\n\n    case 'descend':\n      return 'desc';\n\n    default:\n      break;\n  }\n}\n","import { store } from 'redux/store';\n\nexport default function numberToPrice(number = 0, symbol, position) {\n  const defaultCurrency = store.getState()?.currency?.defaultCurrency;\n  const price = Number(number)\n    .toFixed(2)\n    .replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n  const currencySymbol = symbol || defaultCurrency?.symbol || '$';\n  const currencyPosition = position || defaultCurrency?.position || 'before';\n\n  return currencyPosition === 'after'\n    ? `${price} ${currencySymbol}`\n    : `${currencySymbol} ${price}`;\n}\n","import React, { useEffect, useState } from 'react';\nimport { Space, Table, Card, DatePicker } from 'antd';\nimport { useParams } from 'react-router-dom';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch, setMenuData } from '../../redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\n\nimport useDidUpdate from '../../helpers/useDidUpdate';\nimport formatSortType from '../../helpers/formatSortType';\nimport numberToPrice from '../../helpers/numberToPrice';\n\nimport moment from 'moment';\nimport { fetchDeliverymanPaymentFromPartners } from 'redux/slices/paymentToPartners';\nconst { RangePicker } = DatePicker;\n\nexport default function DeliverymanPaymentFromPartners() {\n  const { type } = useParams();\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { defaultCurrency } = useSelector(\n    (state) => state.currency,\n    shallowEqual\n  );\n\n  const columns = [\n    {\n      title: t('order.id'),\n      is_show: true,\n      dataIndex: 'order_id',\n      key: 'order_id',\n      sorter: true,\n      render: (id) => (\n        <span className='text-hover'>\n          #{id}\n        </span>\n      ),\n    },\n    {\n      title: t('order.total_price'),\n      is_show: true,\n      dataIndex: 'transaction',\n      key: 'transaction',\n      render: (row) => {\n        return (\n          <span>\n            {numberToPrice(row?.order?.total_price, defaultCurrency.symbol)}\n          </span>\n        );\n      },\n    },\n    {\n      title: t('delivery.fee'),\n      is_show: true,\n      dataIndex: 'delivery_fee',\n      key: 'delivery_fee',\n      render: (_, row) => numberToPrice(row?.order?.delivery_fee),\n    },\n    {\n      title: t('payment.type'),\n      is_show: true,\n      dataIndex: 'transaction',\n      key: 'transaction',\n      render: (transaction) => t(transaction?.payment_system?.tag) || '-',\n    },\n  ];\n\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const [dateRange, setDateRange] = useState(\n    moment().subtract(1, 'month'),\n    moment()\n  );\n  const { list, loading, params, meta } = useSelector(\n    (state) => state.paymentToPartners,\n    shallowEqual\n  );\n  const data = activeMenu.data;\n  const paramsData = {\n    search: data?.search,\n    sort: data?.sort,\n    column: data?.column,\n    perPage: data?.perPage,\n    page: data?.page,\n    user_id: data?.user_id,\n    shop_id:\n      activeMenu.data?.shop_id !== null ? activeMenu.data?.shop_id : null,\n    date_from: Array.isArray(dateRange)\n      ? dateRange[0]?.format('YYYY-MM-DD')\n      : moment().subtract(1, 'month').format('YYYY-MM-DD'),\n    date_to: Array.isArray(dateRange)\n      ? dateRange[1]?.format('YYYY-MM-DD')\n      : moment().format('YYYY-MM-DD'),\n    type,\n  };\n\n  function onChangePagination(pagination, filters, sorter) {\n    const { pageSize: perPage, current: page } = pagination;\n    const { field: column, order } = sorter;\n    const sort = formatSortType(order);\n    dispatch(\n      setMenuData({\n        activeMenu,\n        data: { ...data, perPage, page, column, sort },\n      })\n    );\n  }\n\n  useDidUpdate(() => {\n    dispatch(fetchDeliverymanPaymentFromPartners(paramsData));\n  }, [data, dateRange, type]);\n\n  const handleFilter = (item, name) => {\n    dispatch(\n      setMenuData({\n        activeMenu,\n        data: { ...data, ...{ [name]: item } },\n      })\n    );\n  };\n\n  useEffect(() => {\n    if (activeMenu?.refetch) {\n      dispatch(fetchDeliverymanPaymentFromPartners(paramsData));\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu?.refetch]);\n\n  return (\n    <>\n      <Card>\n        <div className='flex justify-content-space-between'>\n          <Space\n            wrap\n            className='order-filter'\n            style={{ flex: 1, width: '100%' }}\n          >\n            <RangePicker\n              value={dateRange}\n              onChange={(values) => {\n                handleFilter((prev) => ({\n                  ...prev,\n                  ...{\n                    date_from: values?.[0]?.format('YYYY-MM-DD'),\n                    date_to: values?.[1]?.format('YYYY-MM-DD'),\n                  },\n                }));\n                setDateRange(values);\n              }}\n              disabledDate={(current) => {\n                return current && current > moment().endOf('day');\n              }}\n              style={{ width: '100%' }}\n            />\n          </Space>\n        </div>\n      </Card>\n\n      <Card>\n        <Table\n          scroll={{ x: true }}\n          columns={columns?.filter((items) => items.is_show)}\n          dataSource={list}\n          loading={loading}\n          pagination={{\n            pageSize: params.perPage,\n            page: activeMenu.data?.page || 1,\n            total: meta?.total,\n            defaultCurrent: activeMenu.data?.page,\n            current: activeMenu.data?.page,\n          }}\n          rowKey={(record) => record.id}\n          onChange={onChangePagination}\n        />\n      </Card>\n    </>\n  );\n}\n"],"names":["formatSortType","type","numberToPrice","_store$getState","_store$getState$curre","number","arguments","length","undefined","symbol","position","defaultCurrency","store","currency","price","Number","toFixed","replace","currencySymbol","currencyPosition","RangePicker","DatePicker","DeliverymanPaymentFromPartners","_activeMenu$data","_activeMenu$data2","_dateRange$","_dateRange$2","_activeMenu$data3","_activeMenu$data4","_activeMenu$data5","useParams","dispatch","useDispatch","t","useTranslation","useSelector","state","shallowEqual","columns","title","is_show","dataIndex","key","sorter","render","id","_jsxs","className","children","row","_row$order","_jsx","order","total_price","_","_row$order2","delivery_fee","transaction","_transaction$payment_","payment_system","tag","activeMenu","menu","dateRange","setDateRange","useState","moment","subtract","list","loading","params","meta","paymentToPartners","data","paramsData","search","sort","column","perPage","page","user_id","shop_id","date_from","Array","isArray","format","date_to","useDidUpdate","fetchDeliverymanPaymentFromPartners","useEffect","refetch","disableRefetch","_Fragment","Card","Space","wrap","style","flex","width","value","onChange","values","handleFilter","item","name","prev","_values$","_values$2","setMenuData","disabledDate","current","endOf","Table","scroll","x","filter","items","dataSource","pagination","pageSize","total","defaultCurrent","rowKey","record","filters","field"],"sourceRoot":""}