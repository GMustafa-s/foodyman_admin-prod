{"version":3,"file":"static/js/5288.c7940a63.chunk.js","mappings":"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","sources":["components/filter-column.js","components/search.js","helpers/formatSortType.js","helpers/numberToPrice.js","views/transactions/transactionShowModal.js","views/transactions/index.js","../node_modules/@ant-design/icons-svg/es/asn/TableOutlined.js","../node_modules/@ant-design/icons/es/icons/TableOutlined.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Button,\n  Dropdown,\n  Menu,\n  Space,\n  Switch,\n  Tooltip,\n  Typography,\n} from 'antd';\nimport { TableOutlined } from '@ant-design/icons';\nimport { useTranslation } from 'react-i18next';\nconst { Text } = Typography;\n\nconst FilterColumns = ({\n  columns = [],\n  setColumns,\n  style,\n  size = '',\n  iconOnly,\n}) => {\n  const { t } = useTranslation();\n  const [open, setOpen] = useState(false);\n  const menu = (\n    <Menu>\n      {columns?.map((item, key) => (\n        <Menu.Item key={item + key}>\n          <Space className='d-flex justify-content-between'>\n            <Text>{item.title}</Text>\n            <Switch\n              defaultChecked\n              onClick={() => onChange(item)}\n              disabled={\n                // item.title === 'Title' ||\n                // item.title === 'Name' ||\n                // item.title === 'Client'\n                key === 1\n              }\n            />\n          </Space>\n        </Menu.Item>\n      ))}\n    </Menu>\n  );\n\n  const handleVisibleChange = (flag) => {\n    setOpen(flag);\n  };\n  function onChange(checked) {\n    const newArray = columns?.map((item) => {\n      if (item.dataIndex === checked.dataIndex) {\n        item.is_show = !item?.is_show;\n      }\n      return item;\n    });\n    setColumns(newArray);\n  }\n\n  return (\n    <Dropdown\n      overlay={menu}\n      trigger={['click']}\n      onVisibleChange={handleVisibleChange}\n      visible={open}\n    >\n      <Tooltip title={t('change.columns')}>\n        <Button style={{ ...style }} size={size} icon={<TableOutlined />}>\n          {iconOnly ? null : t('Columns')}\n        </Button>\n      </Tooltip>\n    </Dropdown>\n  );\n};\n\nexport default FilterColumns;\n","import React, { useState, useMemo } from 'react';\nimport debounce from 'lodash/debounce';\nimport { Select, Spin } from 'antd';\n\nexport const DebounceSelect = ({\n  fetchOptions,\n  debounceTimeout = 400,\n  onClear,\n  ...props\n}) => {\n  const [fetching, setFetching] = useState(false);\n  const [options, setOptions] = useState([]);\n\n  const debounceFetcher = useMemo(() => {\n    const loadOptions = (value) => {\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value).then((newOptions) => {\n        setOptions(newOptions);\n        setFetching(false);\n      });\n    };\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n\n  const fetchOnFocus = () => {\n      debounceFetcher('');\n  };\n\n  return (\n    <Select\n      showSearch\n      allowClear\n      labelInValue={true}\n      filterOption={false}\n      onSearch={debounceFetcher}\n      onClear={() => {\n        debounceFetcher('');\n        !!onClear && onClear();\n      }}\n      notFoundContent={fetching ? <Spin size='small' /> : 'no results'}\n      {...props}\n      options={options}\n      onFocus={fetchOnFocus}\n    />\n  );\n};\n","export default function formatSortType(type) {\n  switch (type) {\n    case 'ascend':\n      return 'asc';\n\n    case 'descend':\n      return 'desc';\n\n    default:\n      break;\n  }\n}\n","import { store } from 'redux/store';\n\nexport default function numberToPrice(number = 0, symbol, position) {\n  const defaultCurrency = store.getState()?.currency?.defaultCurrency;\n  const price = Number(number)\n    .toFixed(2)\n    .replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n  const currencySymbol = symbol || defaultCurrency?.symbol || '$';\n  const currencyPosition = position || defaultCurrency?.position || 'before';\n\n  return currencyPosition === 'after'\n    ? `${price} ${currencySymbol}`\n    : `${currencySymbol} ${price}`;\n}\n","import React, { useEffect, useState } from 'react';\nimport { Button, Descriptions, Modal, Tag } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport Loading from 'components/loading';\nimport transactionService from 'services/transaction';\nimport numberToPrice from 'helpers/numberToPrice';\nimport moment from 'moment/moment';\nimport { shallowEqual, useSelector } from 'react-redux';\n\nexport default function TransactionShowModal({ id, handleCancel }) {\n  const { defaultCurrency } = useSelector(\n    (state) => state.currency,\n    shallowEqual,\n  );\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const { t } = useTranslation();\n\n  function fetchTransaction(id) {\n    setLoading(true);\n    transactionService\n      .getById(id)\n      .then((res) => setData(res.data))\n      .finally(() => setLoading(false));\n  }\n\n  useEffect(() => {\n    fetchTransaction(id);\n  }, [id]);\n\n  return (\n    <Modal\n      visible={!!id}\n      title={t('transaction')}\n      onCancel={handleCancel}\n      footer={\n        <Button type='default' onClick={handleCancel}>\n          {t('cancel')}\n        </Button>\n      }\n    >\n      {!loading ? (\n        <Descriptions bordered>\n          <Descriptions.Item span={3} label={t('transaction.id')}>\n            {data.id}\n          </Descriptions.Item>\n          <Descriptions.Item span={3} label={t('client')}>\n            {data.user?.firstname} {data.user?.lastname || ''}\n          </Descriptions.Item>\n          <Descriptions.Item span={3} label={t('price')}>\n            {numberToPrice(\n              data.price,\n              defaultCurrency?.symbol,\n              defaultCurrency?.position,\n            )}\n          </Descriptions.Item>\n          <Descriptions.Item span={3} label={t('payment.type')}>\n            {t(data.payment_system?.tag)}\n          </Descriptions.Item>\n          <Descriptions.Item span={3} label={t('created.at')}>\n            {moment(data?.created_at).format('YYYY-MM-DD HH:mm')}\n          </Descriptions.Item>\n          <Descriptions.Item span={3} label={t('status')}>\n            {data.status === 'progress' ? (\n              <Tag color='gold'>{t(data.status)}</Tag>\n            ) : data.status === 'rejected' ? (\n              <Tag color='error'>{t(data.status)}</Tag>\n            ) : (\n              <Tag color='cyan'>{t(data.status)}</Tag>\n            )}\n          </Descriptions.Item>\n          <Descriptions.Item span={3} label={t('status.description')}>\n            {data.status_description}\n          </Descriptions.Item>\n          <Descriptions.Item span={3} label={t('note')}>\n            {data.note}\n          </Descriptions.Item>\n        </Descriptions>\n      ) : (\n        <Loading />\n      )}\n    </Modal>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { Button, Table, Card, Tabs, Tag, Space } from 'antd';\nimport { EyeOutlined } from '@ant-design/icons';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch, setMenuData } from '../../redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport useDidUpdate from '../../helpers/useDidUpdate';\nimport formatSortType from '../../helpers/formatSortType';\nimport { DebounceSelect } from '../../components/search';\nimport userService from '../../services/user';\nimport { fetchTransactions } from '../../redux/slices/transaction';\nimport TransactionShowModal from './transactionShowModal';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport FilterColumns from '../../components/filter-column';\nimport moment from 'moment/moment';\nconst { TabPane } = Tabs;\n\nconst statuses = ['all', 'progress', 'paid', 'rejected'];\n\nexport default function Transactions() {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { defaultCurrency } = useSelector(\n    (state) => state.currency,\n    shallowEqual,\n  );\n  const [showId, setShowId] = useState(null);\n\n  const goToShow = (row) => {\n    setShowId(row.id);\n  };\n\n  const [columns, setColumns] = useState([\n    {\n      title: t('id'),\n      dataIndex: 'id',\n      key: 'id',\n      sorter: true,\n      is_show: true,\n    },\n    {\n      title: t('client'),\n      dataIndex: 'user',\n      key: 'user',\n      is_show: true,\n      render: (user) => (\n        <div>\n          {user?.firstname} {user?.lastname || ''}\n        </div>\n      ),\n    },\n    {\n      title: t('amount'),\n      dataIndex: 'price',\n      key: 'price',\n      is_show: true,\n      render: (price, row) =>\n        numberToPrice(\n          price,\n          defaultCurrency?.symbol,\n          defaultCurrency?.position,\n        ),\n    },\n    {\n      title: t('payment.type'),\n      dataIndex: 'payment_system',\n      key: 'payment_system',\n      is_show: true,\n      render: (paymentSystem) => paymentSystem?.tag,\n    },\n    {\n      title: t('status'),\n      dataIndex: 'status',\n      key: 'status',\n      is_show: true,\n      render: (status) => (\n        <div>\n          {status === 'progress' ? (\n            <Tag color='gold'>{t(status)}</Tag>\n          ) : status === 'rejected' ? (\n            <Tag color='error'>{t(status)}</Tag>\n          ) : (\n            <Tag color='cyan'>{t(status)}</Tag>\n          )}\n        </div>\n      ),\n    },\n    {\n      title: t('status.note'),\n      dataIndex: 'status_description',\n      key: 'status_description',\n      is_show: true,\n    },\n    {\n      title: t('created.at'),\n      dataIndex: 'created_at',\n      key: 'created_at',\n      is_show: true,\n      render: (_, row) => moment(row?.created_at).format('YYYY-MM-DD HH:mm'),\n    },\n    {\n      title: t('options'),\n      key: 'options',\n      is_show: true,\n      render: (_, row) => {\n        return <Button icon={<EyeOutlined />} onClick={() => goToShow(row)} />;\n      },\n    },\n  ]);\n\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const [role, setRole] = useState('all');\n  const { transactions, meta, loading, params } = useSelector(\n    (state) => state.transaction,\n    shallowEqual,\n  );\n  const immutable = activeMenu.data?.role || role;\n  const data = activeMenu.data;\n  const paramsData = {\n    sort: data?.sort,\n    column: data?.column,\n    perPage: data?.perPage,\n    page: data?.page,\n    user_id: data?.userId,\n    status: data?.role === 'all' ? undefined : data?.role,\n  };\n\n  function onChangePagination(pagination, filters, sorter) {\n    const { pageSize: perPage, current: page } = pagination;\n    const { field: column, order } = sorter;\n    const sort = formatSortType(order);\n    dispatch(\n      setMenuData({\n        activeMenu,\n        data: { ...data, perPage, page, column, sort },\n      }),\n    );\n  }\n\n  useDidUpdate(() => {\n    dispatch(fetchTransactions(paramsData));\n  }, [activeMenu.data]);\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchTransactions(params));\n      dispatch(disableRefetch(activeMenu));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeMenu.refetch]);\n\n  const handleFilter = (items) => {\n    const data = activeMenu.data;\n    dispatch(\n      setMenuData({\n        activeMenu,\n        data: { ...data, ...items },\n      }),\n    );\n  };\n\n  async function getUsers(search) {\n    const params = {\n      search,\n      perPage: 10,\n    };\n    return userService.search(params).then(({ data }) => {\n      return data.map((item) => ({\n        label: `${item.firstname} ${item.lastname}`,\n        value: item.id,\n      }));\n    });\n  }\n\n  return (\n    <Card\n      title={t('transactions')}\n      extra={\n        <Space wrap>\n          <DebounceSelect\n            placeholder={t('select.client')}\n            fetchOptions={getUsers}\n            onSelect={(user) => handleFilter({ userId: user.value })}\n            onDeselect={() => handleFilter({ userId: null })}\n            style={{ minWidth: 200 }}\n          />\n          <FilterColumns columns={columns} setColumns={setColumns} />\n        </Space>\n      }\n    >\n      <Tabs\n        onChange={(key) => {\n          handleFilter({ role: key, page: 1 });\n          setRole(key);\n        }}\n        type='card'\n        activeKey={immutable}\n      >\n        {statuses.map((item) => (\n          <TabPane tab={t(item)} key={item} />\n        ))}\n      </Tabs>\n      <Table\n        scroll={{ x: true }}\n        columns={columns?.filter((item) => item.is_show)}\n        dataSource={transactions}\n        loading={loading}\n        pagination={{\n          pageSize: params.perPage,\n          page: activeMenu.data?.page || 1,\n          total: meta.total,\n          defaultCurrent: activeMenu.data?.page,\n          current: activeMenu.data?.page,\n        }}\n        rowKey={(record) => record.id}\n        onChange={onChangePagination}\n      />\n      {showId && (\n        <TransactionShowModal\n          id={showId}\n          handleCancel={() => setShowId(null)}\n        />\n      )}\n    </Card>\n  );\n}\n","// This icon file is generated automatically.\nvar TableOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z\" } }] }, \"name\": \"table\", \"theme\": \"outlined\" };\nexport default TableOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport TableOutlinedSvg from \"@ant-design/icons-svg/es/asn/TableOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar TableOutlined = function TableOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: TableOutlinedSvg\n  }));\n};\n\nTableOutlined.displayName = 'TableOutlined';\nexport default /*#__PURE__*/React.forwardRef(TableOutlined);"],"names":["Text","Typography","_ref","columns","setColumns","style","size","iconOnly","t","useTranslation","open","setOpen","useState","menu","_jsx","Menu","children","map","item","key","_jsxs","Space","className","title","Switch","defaultChecked","onClick","checked","newArray","dataIndex","is_show","onChange","disabled","Dropdown","overlay","trigger","onVisibleChange","flag","visible","Tooltip","Button","icon","TableOutlined","DebounceSelect","fetchOptions","debounceTimeout","onClear","props","fetching","setFetching","options","setOptions","debounceFetcher","useMemo","debounce","value","then","newOptions","Select","showSearch","allowClear","labelInValue","filterOption","onSearch","notFoundContent","Spin","onFocus","fetchOnFocus","formatSortType","type","numberToPrice","_store$getState","_store$getState$curre","number","arguments","length","undefined","symbol","position","defaultCurrency","store","currency","price","Number","toFixed","replace","currencySymbol","currencyPosition","TransactionShowModal","_data$user","_data$user2","_data$payment_system","id","handleCancel","useSelector","state","shallowEqual","data","setData","loading","setLoading","useEffect","transactionService","res","finally","fetchTransaction","Modal","onCancel","footer","Loading","Descriptions","bordered","span","label","user","firstname","lastname","payment_system","tag","moment","created_at","format","status","Tag","color","status_description","note","TabPane","Tabs","statuses","Transactions","_activeMenu$data","_activeMenu$data2","_activeMenu$data3","_activeMenu$data4","dispatch","useDispatch","showId","setShowId","sorter","render","row","paymentSystem","_","EyeOutlined","goToShow","activeMenu","role","setRole","transactions","meta","params","transaction","immutable","paramsData","sort","column","perPage","page","user_id","userId","useDidUpdate","fetchTransactions","refetch","disableRefetch","handleFilter","items","setMenuData","Card","extra","wrap","placeholder","async","search","userService","onSelect","onDeselect","minWidth","FilterColumns","activeKey","tab","Table","scroll","x","filter","dataSource","pagination","pageSize","total","defaultCurrent","current","rowKey","record","filters","field","order","ref","React","AntdIcon","_objectSpread","TableOutlinedSvg","displayName"],"sourceRoot":""}