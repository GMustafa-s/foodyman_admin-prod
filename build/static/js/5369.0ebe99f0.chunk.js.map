{"version":3,"file":"static/js/5369.0ebe99f0.chunk.js","mappings":"6RAWe,SAASA,IACtB,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,MAEPC,GAAQC,EAAAA,EAAAA,UACTC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACX,WAAEC,IAAeC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,MAAMC,EAAAA,KAE1DC,EAAAA,EAAAA,YAAU,IACD,KACL,MAAMC,EAAOZ,EAAKa,gBAAe,GACjCT,GAASU,EAAAA,EAAAA,IAAY,CAAER,WAAAA,EAAYM,KAAAA,OAGpC,IAsBH,OACEG,EAAAA,EAAAA,KAACC,EAAAA,EAAI,CAACC,MAAOnB,EAAE,gBAAgBoB,UAC7BH,EAAAA,EAAAA,KAACI,EAAAA,EAAY,CAACnB,KAAMA,EAAMoB,aAtBRC,IACpB,MAAMC,EAAO,CACXL,MAAOI,EAAOJ,MACdM,OAAQF,EAAOE,OACfC,KAAMH,EAAOG,KACbC,OAAQC,OAAOL,EAAOI,QACtBE,SAAUN,EAAOM,UAEbC,EAAU,aAEhB,OAAOC,EAAAA,EAAAA,OAAuBP,GAAMQ,MAAK,KACvCC,EAAAA,GAAAA,QAAcjC,EAAE,0BAChBkC,EAAAA,EAAAA,KAAM,KACJ5B,GAAS6B,EAAAA,EAAAA,IAAe,IAAK3B,EAAYsB,QAAAA,KACzCxB,GAAS8B,EAAAA,EAAAA,IAAgB,QAE3BhC,EAAS","sources":["views/currencies/currencies-add.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Form, Card } from 'antd';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport currencyService from '../../services/currency';\nimport { batch, shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { removeFromMenu, setMenuData } from '../../redux/slices/menu';\nimport { fetchCurrencies } from '../../redux/slices/currency';\nimport { useTranslation } from 'react-i18next';\nimport CurrencyForm from './currency-form';\n\nexport default function CurrencyAdd() {\n  const { t } = useTranslation();\n\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n\n  useEffect(() => {\n    return () => {\n      const data = form.getFieldsValue(true);\n      dispatch(setMenuData({ activeMenu, data }));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleSubmit = (values) => {\n    const body = {\n      title: values.title,\n      symbol: values.symbol,\n      rate: values.rate,\n      active: Number(values.active),\n      position: values.position,\n    };\n    const nextUrl = 'currencies';\n\n    return currencyService.create(body).then(() => {\n      toast.success(t('successfully.created'));\n      batch(() => {\n        dispatch(removeFromMenu({ ...activeMenu, nextUrl }));\n        dispatch(fetchCurrencies({}));\n      });\n      navigate(`/${nextUrl}`);\n    });\n  };\n\n  return (\n    <Card title={t('add.currency')}>\n      <CurrencyForm form={form} handleSubmit={handleSubmit} />\n    </Card>\n  );\n}\n"],"names":["CurrencyAdd","t","useTranslation","form","Form","navigate","useNavigate","dispatch","useDispatch","activeMenu","useSelector","state","menu","shallowEqual","useEffect","data","getFieldsValue","setMenuData","_jsx","Card","title","children","CurrencyForm","handleSubmit","values","body","symbol","rate","active","Number","position","nextUrl","currencyService","then","toast","batch","removeFromMenu","fetchCurrencies"],"sourceRoot":""}