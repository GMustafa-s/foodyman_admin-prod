{"version":3,"file":"static/js/3361.35a1096a.chunk.js","mappings":"qTAaA,MAgDA,EAhDkBA,KAChB,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,KACRC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACX,WAAEC,IAAeC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,MAAMC,EAAAA,KAEnDC,GAAQC,EAAAA,EAAAA,WACT,UAAEC,IAAcN,EAAAA,EAAAA,KAAaC,GAAUA,EAAMM,UAAUJ,EAAAA,KAE7DK,EAAAA,EAAAA,YAAU,IACD,KACL,MAAMC,EAAOL,EAAKM,gBAAe,GACjCb,GAASc,EAAAA,EAAAA,IAAY,CAAEZ,WAAAA,EAAYU,KAAAA,OAGpC,IA2BH,OACEG,EAAAA,EAAAA,KAACC,EAAAA,EAAI,CAACC,MAAOrB,EAAE,cAAesB,OAAOH,EAAAA,EAAAA,KAACI,EAAAA,EAAY,IAAIC,UACpDL,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CAACd,KAAMA,EAAMe,aA3BNC,IACpB,MAAMC,EAAO,IACRD,EACHE,OAAQC,OAAOH,EAAOE,QACtBE,YAAaJ,EAAOI,YAAYC,MAChCC,KAAMN,EAAOM,KACbZ,OAAOa,EAAAA,EAAAA,GAAqBrB,EAAWc,EAAQ,SAC/CQ,aAAaD,EAAAA,EAAAA,GAAqBrB,EAAWc,EAAQ,eACrDS,SAASF,EAAAA,EAAAA,GAAqBrB,EAAWc,EAAQ,YAE7CU,EAAU,iBAEhB,OAAOC,EAAAA,EAAAA,OACGV,GACPW,MAAK,KACJC,EAAAA,GAAAA,QAAcxC,EAAE,0BAChByC,EAAAA,EAAAA,KAAM,KACJrC,GAASsC,EAAAA,EAAAA,IAAe,IAAKpC,EAAY+B,QAAAA,KACzCjC,GAASuC,EAAAA,EAAAA,GAAY,QAEvBzC,EAAS,IAAImC,QAEdO,OAAOC,GAAQC,QAAQC,MAAMF,EAAIG,SAAShC,KAAKiC","sources":["views/career/career-add.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Card, Form } from 'antd';\nimport { toast } from 'react-toastify';\nimport { useNavigate } from 'react-router-dom';\nimport LanguageList from '../../components/language-list';\nimport { shallowEqual, useDispatch, useSelector, batch } from 'react-redux';\nimport { removeFromMenu, setMenuData } from '../../redux/slices/menu';\nimport careerService from '../../services/career';\nimport { useTranslation } from 'react-i18next';\nimport { fetchCareer } from 'redux/slices/career';\nimport getTranslationFields from 'helpers/getTranslationFields';\nimport CareerForm from './career-form';\n\nconst CareerAdd = () => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n\n  const [form] = Form.useForm();\n  const { languages } = useSelector((state) => state.formLang, shallowEqual);\n\n  useEffect(() => {\n    return () => {\n      const data = form.getFieldsValue(true);\n      dispatch(setMenuData({ activeMenu, data }));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleSubmit = (values) => {\n    const body = {\n      ...values,\n      active: Number(values.active),\n      category_id: values.category_id.value,\n      type: values.type,\n      title: getTranslationFields(languages, values, 'title'),\n      description: getTranslationFields(languages, values, 'description'),\n      address: getTranslationFields(languages, values, 'address'),\n    };\n    const nextUrl = 'catalog/career';\n\n    return careerService\n      .create(body)\n      .then(() => {\n        toast.success(t('successfully.created'));\n        batch(() => {\n          dispatch(removeFromMenu({ ...activeMenu, nextUrl }));\n          dispatch(fetchCareer({}));\n        });\n        navigate(`/${nextUrl}`);\n      })\n      .catch((err) => console.error(err.response.data.params));\n  };\n\n  return (\n    <Card title={t('add.career')} extra={<LanguageList />}>\n      <CareerForm form={form} handleSubmit={handleSubmit} />\n    </Card>\n  );\n};\nexport default CareerAdd;\n"],"names":["CareerAdd","t","useTranslation","navigate","useNavigate","dispatch","useDispatch","activeMenu","useSelector","state","menu","shallowEqual","form","Form","languages","formLang","useEffect","data","getFieldsValue","setMenuData","_jsx","Card","title","extra","LanguageList","children","CareerForm","handleSubmit","values","body","active","Number","category_id","value","type","getTranslationFields","description","address","nextUrl","careerService","then","toast","batch","removeFromMenu","fetchCareer","catch","err","console","error","response","params"],"sourceRoot":""}