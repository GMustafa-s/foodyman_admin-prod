{"version":3,"file":"static/js/21.a8e625af.chunk.js","mappings":"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","sources":["components/search.js","views/seller-views/booking-table/table-add.js","views/seller-views/booking-table/table-form.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport debounce from 'lodash/debounce';\nimport { Select, Spin } from 'antd';\n\nexport const DebounceSelect = ({\n  fetchOptions,\n  debounceTimeout = 400,\n  onClear,\n  ...props\n}) => {\n  const [fetching, setFetching] = useState(false);\n  const [options, setOptions] = useState([]);\n\n  const debounceFetcher = useMemo(() => {\n    const loadOptions = (value) => {\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value).then((newOptions) => {\n        setOptions(newOptions);\n        setFetching(false);\n      });\n    };\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n\n  const fetchOnFocus = () => {\n      debounceFetcher('');\n  };\n\n  return (\n    <Select\n      showSearch\n      allowClear\n      labelInValue={true}\n      filterOption={false}\n      onSearch={debounceFetcher}\n      onClear={() => {\n        debounceFetcher('');\n        !!onClear && onClear();\n      }}\n      notFoundContent={fetching ? <Spin size='small' /> : 'no results'}\n      {...props}\n      options={options}\n      onFocus={fetchOnFocus}\n    />\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Card, Form } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { removeFromMenu, setMenuData } from '../../../redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport sellerBookingTable from '../../../services/seller/booking-table';\nimport BookingForm from './table-form';\n\nconst BookingTableAdd = () => {\n  const { t } = useTranslation();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    return () => {\n      const data = form.getFieldsValue(true);\n      dispatch(setMenuData({ activeMenu, data }));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleSubmit = (values) => {\n    const body = {\n      ...values,\n      chair_count: String(values.chair_count),\n      shop_section_id: values.shop_section_id.value,\n    };\n    const nextUrl = 'seller/booking/tables';\n\n    return sellerBookingTable.create(body).then(() => {\n      toast.success(t('successfully.created'));\n      navigate(`/${nextUrl}`);\n      dispatch(removeFromMenu({ ...activeMenu, nextUrl }));\n    });\n  };\n\n  return (\n    <Card title={t('add.booking.table')}>\n      <BookingForm form={form} handleSubmit={handleSubmit} />\n    </Card>\n  );\n};\n\nexport default BookingTableAdd;\n","import React, { useState } from 'react';\nimport { Button, Col, Form, Input, InputNumber, Row } from 'antd';\nimport { DebounceSelect } from '../../../components/search';\nimport { useTranslation } from 'react-i18next';\nimport sellerBookingZone from '../../../services/seller/booking-zone';\nimport { shallowEqual, useSelector } from 'react-redux';\n\nexport default function BookingForm({ form, handleSubmit }) {\n  const { t } = useTranslation();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n\n  //states\n  const [loadingBtn, setLoadingBtn] = useState(false);\n\n  //functions\n  function fetchZone(search) {\n    return sellerBookingZone.getAll({ search }).then((res) =>\n      res.data.map((item) => ({\n        label: item?.translation?.title,\n        value: item?.id,\n        key: item?.id,\n      })),\n    );\n  }\n\n  //submit form\n  const onFinish = (values) => {\n    setLoadingBtn(true);\n    handleSubmit(values).finally(() => setLoadingBtn(false));\n  };\n\n  return (\n    <Form\n      name='booking-form'\n      layout='vertical'\n      onFinish={onFinish}\n      form={form}\n      initialValues={{ ...activeMenu?.data }}\n    >\n      <Row gutter={12}>\n        <Col span={12}>\n          <Form.Item\n            label={t('zona')}\n            name={'shop_section_id'}\n            rules={[\n              {\n                required: true,\n                message: t('required'),\n              },\n            ]}\n          >\n            <DebounceSelect fetchOptions={fetchZone} debounceTimeout={300} />\n          </Form.Item>\n        </Col>\n\n        <Col span={12}>\n          <Form.Item\n            label='name'\n            name={`name`}\n            rules={[{ required: true, message: 'required' }]}\n          >\n            <Input />\n          </Form.Item>\n        </Col>\n\n        <Col span={12}>\n          <Form.Item\n            label={t('chair.count')}\n            name='chair_count'\n            rules={[{ required: true, message: t('required') }]}\n          >\n            <InputNumber className='w-100' />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item\n            label={t('tax')}\n            name='tax'\n            rules={[{ required: true, message: t('required') }]}\n          >\n            <InputNumber className='w-100' />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Button type='primary' htmlType='submit' loading={loadingBtn}>\n        {t('submit')}\n      </Button>\n    </Form>\n  );\n}\n"],"names":["DebounceSelect","_ref","fetchOptions","debounceTimeout","onClear","props","fetching","setFetching","useState","options","setOptions","debounceFetcher","useMemo","debounce","value","then","newOptions","_jsx","Select","showSearch","allowClear","labelInValue","filterOption","onSearch","notFoundContent","Spin","size","onFocus","fetchOnFocus","BookingTableAdd","t","useTranslation","activeMenu","useSelector","state","menu","shallowEqual","dispatch","useDispatch","form","Form","navigate","useNavigate","useEffect","data","getFieldsValue","setMenuData","Card","title","children","BookingForm","handleSubmit","values","body","chair_count","String","shop_section_id","nextUrl","sellerBookingTable","toast","removeFromMenu","loadingBtn","setLoadingBtn","_jsxs","name","layout","onFinish","finally","initialValues","Row","gutter","Col","span","label","rules","required","message","search","sellerBookingZone","res","map","item","_item$translation","translation","id","key","Input","InputNumber","className","Button","type","htmlType","loading"],"sourceRoot":""}