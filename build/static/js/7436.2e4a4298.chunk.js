(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7436],{79586:(e,l,t)=>{"use strict";t.d(l,{Z:()=>r});t(72791);var n=t(87309),s=t(82622),a=t(30577),i=t(33168),d=t(19011),o=t(80184);function r(e){let{size:l="",onClick:t,type:r="default",...c}=e;const{t:u}=(0,i.$)(),{isDemo:v}=(0,d.Z)();return(0,o.jsx)(n.Z,{size:l,icon:(0,o.jsx)(s.Z,{}),onClick:e=>{v?a.Am.warning(u("cannot.work.demo")):t(e)},type:r,...c})}},255:(e,l,t)=>{"use strict";t.d(l,{Z:()=>x});var n=t(72791),s=t(87407),a=t(56014),i=t(83099),d=t(25581),o=t(32385),r=t(43751),c=t(87309),u=t(99197),v=t(33168),h=t(80184);const{Text:m}=s.Z,x=e=>{let{columns:l=[],setColumns:t,style:s,size:x="",iconOnly:p}=e;const{t:j}=(0,v.$)(),[Z,f]=(0,n.useState)(!1),g=(0,h.jsx)(a.Z,{children:null===l||void 0===l?void 0:l.map(((e,n)=>(0,h.jsx)(a.Z.Item,{children:(0,h.jsxs)(i.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(d.Z,{defaultChecked:!0,onClick:()=>function(e){const n=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(n)}(e),disabled:1===n})]})},e+n)))});return(0,h.jsx)(o.Z,{overlay:g,trigger:["click"],onVisibleChange:e=>{f(e)},visible:Z,children:(0,h.jsx)(r.Z,{title:j("change.columns"),children:(0,h.jsx)(c.Z,{style:{...s},size:x,icon:(0,h.jsx)(u.Z,{}),children:p?null:j("Columns")})})})}},1728:(e,l,t)=>{"use strict";t.d(l,{Z:()=>o});t(72791);var n=t(65873),s=t(77063),a=t(87309),i=t(33168),d=t(80184);const o=e=>{let{open:l,handleCancel:t,text:o,click:r,loading:c,subTitle:u}=e;const{t:v}=(0,i.$)();return(0,d.jsxs)(n.Z,{closable:!1,visible:l,footer:null,centered:!0,children:[(0,d.jsx)(s.ZP,{status:"warning",title:o,subTitle:u}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(a.Z,{type:"primary",className:"mr-2",onClick:r,loading:c,children:v("yes")}),(0,d.jsx)(a.Z,{onClick:()=>t(),children:v("no")})]})]})}},37720:(e,l,t)=>{"use strict";t.d(l,{Z:()=>o});var n=t(72791),s=t(86005),a=t(763),i=t(11730),d=t(80184);function o(e){let{handleChange:l,defaultValue:t,resetSearch:o,...r}=e;const[c,u]=(0,n.useState)(t),v=(0,n.useMemo)((()=>(0,a.debounce)((e=>{l(e)}),800)),[l]);return(0,n.useEffect)((()=>{u(t)}),[o,t]),(0,d.jsx)(s.Z,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(i.Z,{}),...r})}},6200:(e,l,t)=>{"use strict";t.d(l,{h:()=>r});var n=t(72791),s=t(48573),a=t.n(s),i=t(66818),d=t(37083),o=t(80184);const r=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:s,...r}=e;const[c,u]=(0,n.useState)(!1),[v,h]=(0,n.useState)([]),m=(0,n.useMemo)((()=>a()((e=>{h([]),u(!0),l(e).then((e=>{h(e),u(!1)}))}),t)),[l,t]);return(0,o.jsx)(i.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),s&&s()},notFoundContent:c?(0,o.jsx)(d.Z,{size:"small"}):"no results",...r,options:v,onFocus:()=>{m("")}})}},28640:(e,l,t)=>{"use strict";function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(l,{Z:()=>n})},51720:(e,l,t)=>{"use strict";t.d(l,{Z:()=>n});t(85830);function n(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const l=e.location.split(", ");return{lat:Number(null===l||void 0===l?void 0:l[0]),lng:Number(null===l||void 0===l?void 0:l[1])}}},39366:(e,l,t)=>{"use strict";t.d(l,{Z:()=>s});var n=t(80470);function s(){var e,l;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;const i=null===(e=n.h.getState())||void 0===e||null===(l=e.currency)||void 0===l?void 0:l.defaultCurrency,d=Number(t).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),o=s||(null===i||void 0===i?void 0:i.symbol)||"$",r=a||(null===i||void 0===i?void 0:i.position)||"before";return"after"===r?`${d} ${o}`:`${o} ${d}`}},27081:(e,l,t)=>{"use strict";t.d(l,{K:()=>i});var n=t(16871),s=t(32808),a=t.n(s);const i=()=>{const e=(0,n.s0)(),l=(0,n.TH)(),t=a().parse(l.search,{ignoreQueryPrefix:!0});return{values:t,set:(l,n)=>e({search:a().stringify({...t,[l]:n})}),reset:l=>{const n={...t};n[l]&&delete n[l],e({search:a().stringify({...n})})},clear:()=>e({search:a().stringify({})}),merge:l=>e({search:a().stringify({...t,...l})}),get:e=>t[e],setMultiple:l=>{const n={...t,...l};e({search:a().stringify(n)})},resetMultiple:l=>{const n={...t};l.forEach((e=>{n[e]&&delete n[e]})),e({search:a().stringify(n)})}}}},38155:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>Ie});var n=t(72791),s=t(87661),a=t(90894),i=t(47528),d=t(87309),o=t(83099),r=t(56014),c=t(54080),u=t(43751),v=t(32385),h=t(95332),m=t(16871),x=t(31752),p=t(24215),j=t(82622),Z=t(31549),f=t(12056),g=t(79337),y=t(48030),b=t(33168),_=t(17076),w=t(20545),C=t(85795),k=t(28640),S=t(37720),I=t(14482),M=t(6200),H=t(28748),z=t(255),V=t(30577),$=t(79586),N=t(42252),D=t(52666),Y=t(73182),P=t(72426),F=t.n(P),O=t(85830),A=t(7692),B=t(56355),L=t(85880),T=t(1728),E=t(27081),U=t(19011);function R(e){return e?F()(e).format("DD-MM-YYYY, HH:mm"):""}function K(e){return e?F()(e).format("DD-MM-YYYY"):""}var q=t(77483),Q=t(65873),G=t(66106),W=t(30914),J=t(66818),X=t(80184);function ee(e){let{orderDetails:l,handleCancel:t,status:s}=e;const{activeMenu:a}=(0,g.v9)((e=>e.menu),g.wU),[i]=q.Z.useForm(),o=(0,g.I0)(),{t:r}=(0,b.$)(),[c,u]=(0,n.useState)(!1),[v,h]=(0,n.useState)(s);(0,n.useEffect)((()=>{const e=s.findIndex((e=>e.name===l.status));let t=[s[e],s[e+1],{name:"canceled",id:8,active:!0}];e<0&&(t=[s[e+1],"canceled"]),h(t)}),[l]);return(0,X.jsx)(Q.Z,{visible:!!l,title:l.title,onCancel:t,footer:[(0,X.jsx)(d.Z,{type:"primary",onClick:()=>i.submit(),loading:c,children:r("save")},"save-form"),(0,X.jsx)(d.Z,{type:"default",onClick:t,children:r("cancel")},"cansel-modal")],children:(0,X.jsx)(q.Z,{form:i,layout:"vertical",onFinish:e=>{u(!0);const n={...e};N.Z.updateStatus(l.id,n).then((()=>{t(),o((0,y.xo)(a))})).finally((()=>u(!1)))},initialValues:{status:l.status},children:(0,X.jsx)(G.Z,{gutter:12,children:(0,X.jsx)(W.Z,{span:24,children:(0,X.jsx)(q.Z.Item,{label:r("status"),name:"status",rules:[{required:!0,message:r("required")}],children:(0,X.jsx)(J.Z,{children:null===v||void 0===v?void 0:v.map((e=>(0,X.jsx)(J.Z.Option,{value:null===e||void 0===e?void 0:e.name,children:r(null===e||void 0===e?void 0:e.name)},null===e||void 0===e?void 0:e.name)))})})})})})})}const le=[{name:"new",id:"1",active:!0},{name:"accepted",id:"2",active:!0},{name:"ready",id:"3",active:!0},{name:"on_a_way",id:"4",active:!0},{name:"delivered",id:"5",active:!0},{name:"canceled",id:"6",active:!0}];var te=t(9109),ne=t(2040),se=t(63446),ae=t(39126),ie=t(18478),de=t(84618),oe=t(51720),re=t(86533),ce=t(1413);const ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};var ve=t(54291),he=function(e,l){return n.createElement(ve.Z,(0,ce.Z)((0,ce.Z)({},e),{},{ref:l,icon:ue}))};he.displayName="FileDoneOutlined";const me=n.forwardRef(he);var xe=t(40071),pe=t(78820);const{Step:je}=te.Z,Ze=()=>(0,X.jsx)("img",{src:ie,width:"50",alt:"Pin"}),fe=()=>(0,X.jsx)("img",{src:de,width:"50",alt:"Pin"}),ge=["blue","red","gold","volcano","cyan","lime"],ye=e=>{var l,t,s,a,o,r;let{id:u,handleCancel:v}=e;const{t:h}=(0,b.$)(),[m,x]=(0,n.useState)(null),[p,j]=(0,n.useState)(null),[Z,f]=(0,n.useState)(null),{settings:y}=(0,g.v9)((e=>e.globalSettings),g.wU),_=(0,oe.Z)(y),[w,C]=(0,n.useState)(0),[k,S]=(0,n.useState)((0,oe.Z)(y)),[I,M]=(0,n.useState)((0,oe.Z)(y)),[H,z]=(0,n.useState)([{id:0,name:"new",icon:(0,X.jsx)(re.Z,{})},{id:1,name:"accepted",icon:(0,X.jsx)(me,{})},{id:3,name:"ready",icon:(0,X.jsx)(ae.IQF,{})},{id:4,name:"on_a_way",icon:(0,X.jsx)(ae.qaI,{})},{id:5,name:"delivered",icon:(0,X.jsx)(xe.kme,{})}]);const{google_map_key:V}=(0,g.v9)((e=>e.globalSettings.settings),g.wU);(0,n.useEffect)((()=>{x(!0),N.Z.getById(u).then((e=>{var l;let{data:t}=e;z("canceled"===t.status?[{id:1,name:"new",icon:(0,X.jsx)(re.Z,{})},{id:5,name:"canceled",icon:(0,X.jsx)(pe.SV5,{})}]:H),C("canceled"===t.status?1:null===(l=H.find((e=>e.name===t.status)))||void 0===l?void 0:l.id),f("canceled"===t.status?"error":"success"),j(t),M({lat:t.address_from.latitude,lng:t.address_from.longitude}),S({lat:t.address_to.latitude,lng:t.address_to.longitude})})).finally((()=>{x(!1)}))}),[]);return(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(Q.Z,{visible:!!u,title:h("show.locations"),onCancel:()=>v(),style:{minWidth:"80vw"},footer:[(0,X.jsx)(d.Z,{type:"default",onClick:v,children:h("cancel")},"cancelBtn")],children:m?(0,X.jsx)(se.Z,{}):(0,X.jsxs)(c.Z,{children:[(0,X.jsx)(te.Z,{current:w,status:Z,className:"mb-5",children:null===H||void 0===H?void 0:H.map(((e,l)=>(0,X.jsx)(je,{title:h(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+l)))}),(0,X.jsxs)(G.Z,{gutter:12,children:[(0,X.jsxs)(W.Z,{span:12,children:[(0,X.jsxs)("h3",{children:[h("order.id")," #",null===p||void 0===p?void 0:p.id]}),(0,X.jsxs)("p",{children:[(0,X.jsx)(ae.D73,{})," ",R(null===p||void 0===p?void 0:p.created_at)]}),(0,X.jsxs)("p",{children:[h("schedulet.at")," ",K(null===p||void 0===p?void 0:p.delivery_date)]}),(0,X.jsxs)("span",{children:[(0,X.jsx)("strong",{children:null===p||void 0===p||null===(l=p.shop)||void 0===l||null===(t=l.translation)||void 0===t?void 0:t.title})," ",null===p||void 0===p||null===(s=p.details)||void 0===s?void 0:s.map(((e,l)=>{var t;return(0,X.jsx)(i.Z,{color:ge[l],children:null===e||void 0===e||null===(t=e.stock)||void 0===t?void 0:t.product.translation.title})}))]})]}),(0,X.jsxs)(W.Z,{span:12,children:[(0,X.jsxs)("p",{children:[h("status"),": ","new"===(null===p||void 0===p?void 0:p.status)?(0,X.jsx)(i.Z,{color:"blue",children:h(null===p||void 0===p?void 0:p.status)}):"canceled"===(null===p||void 0===p?void 0:p.status)?(0,X.jsx)(i.Z,{color:"error",children:h(null===p||void 0===p?void 0:p.status)}):(0,X.jsx)(i.Z,{color:"cyan",children:h(null===p||void 0===p?void 0:p.status)})]}),(0,X.jsxs)("p",{children:[h("order.type"),": ",(0,X.jsx)("strong",{children:h("parcel")})]}),(0,X.jsxs)("p",{children:[h("payment.method"),": ",(0,X.jsx)("strong",{children:null===p||void 0===p||null===(a=p.transaction)||void 0===a||null===(o=a.payment_system)||void 0===o?void 0:o.tag})]}),(0,X.jsxs)("p",{children:[h("payment.status"),": ",(0,X.jsx)("strong",{children:null===p||void 0===p||null===(r=p.transaction)||void 0===r?void 0:r.status})]})]}),(0,X.jsxs)(W.Z,{span:24,className:"mt-5",children:[(0,X.jsx)("h4",{children:h("map")}),(0,X.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,X.jsxs)(ne.ZP,{bootstrapURLKeys:{key:O.kr||V},defaultZoom:15,center:_,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:e=>{let{map:l,maps:t}=e;const n=[k,I].map((e=>({lat:Number(e.lat||"0"),lng:Number(e.lng||"0")})));let s=new t.LatLngBounds;for(var a=0;a<n.length;a++)s.extend(n[a]);l.fitBounds(s)},children:[(0,X.jsx)(fe,{lat:null===k||void 0===k?void 0:k.lat,lng:null===k||void 0===k?void 0:k.lng}),(0,X.jsx)(Ze,{lat:null===I||void 0===I?void 0:I.lat,lng:null===I||void 0===I?void 0:I.lng})]})})]})]})]})})})};var be=t(30394),_e=t(39366);const we=e=>{var l,t,s,a,i,o,r,c,u,v;let{id:h,handleCancel:m}=e;const{t:x}=(0,b.$)(),[p,j]=(0,n.useState)(null),[Z,f]=(0,n.useState)(null);return(0,n.useEffect)((()=>{j(!0),N.Z.getById(h).then((e=>{let{data:l}=e;f(l)})).finally((()=>{j(!1)}))}),[]),(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(Q.Z,{visible:!!h,title:`${x("parcel.id")} #${h}`,onCancel:()=>m(),footer:[(0,X.jsx)(d.Z,{type:"default",onClick:m,children:x("cancel")},"cancelBtn")],className:"large-modal",children:p?(0,X.jsx)(se.Z,{}):(0,X.jsxs)(G.Z,{gutter:24,children:[(0,X.jsx)(W.Z,{span:12,children:(0,X.jsxs)(be.Z,{title:x("sender.details"),bordered:!0,children:[(0,X.jsx)(be.Z.Item,{label:x("username"),span:3,children:null===Z||void 0===Z?void 0:Z.username_from}),(0,X.jsx)(be.Z.Item,{label:x("phone"),span:3,children:null===Z||void 0===Z?void 0:Z.phone_from}),(0,X.jsx)(be.Z.Item,{label:x("address"),span:3,children:null===Z||void 0===Z||null===(l=Z.address_from)||void 0===l?void 0:l.address}),(0,X.jsx)(be.Z.Item,{label:x("house"),span:3,children:null===Z||void 0===Z||null===(t=Z.address_from)||void 0===t?void 0:t.house}),(0,X.jsx)(be.Z.Item,{label:x("stage"),span:3,children:null===Z||void 0===Z||null===(s=Z.address_from)||void 0===s?void 0:s.stage}),(0,X.jsx)(be.Z.Item,{label:x("room"),span:3,children:null===Z||void 0===Z||null===(a=Z.address_from)||void 0===a?void 0:a.room})]})}),(0,X.jsx)(W.Z,{span:12,children:(0,X.jsxs)(be.Z,{title:x("receiver.details"),bordered:!0,children:[(0,X.jsx)(be.Z.Item,{label:x("username"),span:3,children:null===Z||void 0===Z?void 0:Z.username_to}),(0,X.jsx)(be.Z.Item,{label:x("phone"),span:3,children:null===Z||void 0===Z?void 0:Z.phone_to}),(0,X.jsx)(be.Z.Item,{label:x("address"),span:3,children:null===Z||void 0===Z||null===(i=Z.address_to)||void 0===i?void 0:i.address}),(0,X.jsx)(be.Z.Item,{label:x("house"),span:3,children:null===Z||void 0===Z||null===(o=Z.address_to)||void 0===o?void 0:o.house}),(0,X.jsx)(be.Z.Item,{label:x("stage"),span:3,children:null===Z||void 0===Z||null===(r=Z.address_to)||void 0===r?void 0:r.stage}),(0,X.jsx)(be.Z.Item,{label:x("room"),span:3,children:null===Z||void 0===Z||null===(c=Z.address_to)||void 0===c?void 0:c.room})]})}),(0,X.jsx)(W.Z,{span:24,children:(0,X.jsxs)(be.Z,{bordered:!0,className:"mt-4",children:[(0,X.jsxs)(be.Z.Item,{label:x("client"),span:3,children:[null===Z||void 0===Z||null===(u=Z.user)||void 0===u?void 0:u.firstname," ",null===Z||void 0===Z||null===(v=Z.user)||void 0===v?void 0:v.lastname]}),(0,X.jsx)(be.Z.Item,{label:x("delivery.date.&.time"),span:3,children:R(`${null===Z||void 0===Z?void 0:Z.delivery_date} ${null===Z||void 0===Z?void 0:Z.delivery_time}`)}),(0,X.jsx)(be.Z.Item,{label:x("price"),span:3,children:(0,_e.Z)(null===Z||void 0===Z?void 0:Z.total_price)}),(0,X.jsx)(be.Z.Item,{label:x("created.at"),span:3,children:R(null===Z||void 0===Z?void 0:Z.createdAt)}),(0,X.jsx)(be.Z.Item,{label:x("note"),span:3,children:null===Z||void 0===Z?void 0:Z.note})]})})]})})})};function Ce(e){var l,t,s;let{orderDetails:a,handleCancel:i}=e;const{t:o}=(0,b.$)(),{activeMenu:r}=(0,g.v9)((e=>e.menu),g.wU),[c]=q.Z.useForm(),u=(0,g.I0)(),[v,h]=(0,n.useState)(!1);return(0,X.jsx)(Q.Z,{visible:!!a,onCancel:i,footer:[(0,X.jsx)(d.Z,{type:"primary",onClick:()=>c.submit(),loading:v,children:o("save")},"saveBtn"),(0,X.jsx)(d.Z,{type:"default",onClick:i,children:o("cancel")},"cancelBtn")],children:(0,X.jsx)(q.Z,{form:c,layout:"vertical",onFinish:e=>{const l={deliveryman_id:e.deliveryman.value};h(!0),N.Z.updateDelivery(a.id,l).then((()=>{i(),u((0,y.xo)(r))})).finally((()=>h(!1)))},initialValues:{deliveryman:{label:a.deliveryman?(null===a||void 0===a||null===(l=a.deliveryman)||void 0===l?void 0:l.firstname)+" "+(null===a||void 0===a||null===(t=a.deliveryman)||void 0===t?void 0:t.lastname):null,value:a.deliveryman?null===a||void 0===a||null===(s=a.deliveryman)||void 0===s?void 0:s.id:null}},children:(0,X.jsx)(G.Z,{gutter:12,children:(0,X.jsx)(W.Z,{span:24,children:(0,X.jsx)(q.Z.Item,{label:o("deliveryman"),name:"deliveryman",rules:[{required:!0,message:o("required")}],children:(0,X.jsx)(M.h,{className:"w-100",debounceTimeout:500,placeholder:o("select.shop"),fetchOptions:async function(e){const l={search:e.length?e:void 0,page:1,perPage:10,role:"deliveryman",exist_token:1};return H.Z.getAll(l).then((e=>{let{data:l}=e;return l.map((e=>({label:[e.firstname,e.lastname].join(" "),value:e.id})))}))},allowClear:!0})})})})})})}const{TabPane:ke}=s.Z,{RangePicker:Se}=a.Z;function Ie(){var e,l,t,a,P,q,Q,G;const{type:W}=(0,m.UO)(),J=(0,g.I0)(),te=(0,m.s0)(),{t:ne}=(0,b.$)(),{isDemo:se}=(0,U.Z)(),[ae,ie]=(0,n.useState)(null),[de,oe]=(0,n.useState)(null),[re,ce]=(0,n.useState)(null),[ue,ve]=(0,n.useState)(null),he=[{name:"all",id:"7",active:!0},...le,{name:"deleted_at",id:"8",active:!0}],[me,xe]=(0,n.useState)(null),[pe,je]=(0,n.useState)([{title:ne("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:ne("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,X.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:ne("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,l)=>(0,X.jsxs)("div",{className:"cursor-pointer",children:["new"===e?(0,X.jsx)(i.Z,{color:"blue",children:ne(e)}):"canceled"===e?(0,X.jsx)(i.Z,{color:"error",children:ne(e)}):(0,X.jsx)(i.Z,{color:"cyan",children:ne(e)}),"delivered"===e||"canceled"===e||l.deleted_at?"":(0,X.jsx)(x.Z,{onClick:e=>{e.stopPropagation(),ie(l)},disabled:l.deleted_at})]})},{title:ne("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:(e,l)=>(0,X.jsx)("div",{children:"ready"===l.status&&"pickup"!==l.delivery_type?(0,X.jsx)(d.Z,{disabled:l.deleted_at,type:"link",onClick:()=>ce(l),children:(0,X.jsxs)(o.Z,{children:[e?`${e.firstname} ${e.lastname}`:ne("add.deliveryman"),(0,X.jsx)(x.Z,{})]})}):(0,X.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})})},{title:ne("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var l;return ne(null===e||void 0===e||null===(l=e.payment_system)||void 0===l?void 0:l.tag)||"-"}},{title:ne("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at",render:e=>R(e)},{title:ne("delivery.date"),is_show:!0,dataIndex:"delivery_date",key:"delivery_date",render:e=>K(e)},{title:ne("options"),is_show:!0,key:"options",render:(e,l)=>(0,X.jsxs)(o.Z,{children:[(0,X.jsx)(d.Z,{disabled:l.deleted_at,icon:(0,X.jsx)(A.Y4r,{}),onClick:e=>{e.stopPropagation(),oe(l.id)}}),(0,X.jsx)(d.Z,{disabled:l.deleted_at,icon:(0,X.jsx)(p.Z,{}),onClick:e=>{e.stopPropagation(),(e=>{ve(e.id)})(l)}}),(0,X.jsx)(d.Z,{type:"primary",icon:(0,X.jsx)(x.Z,{}),onClick:e=>{e.stopPropagation(),(e=>{J((0,I.bn)()),J((0,y.bL)({url:`parcel-orders/${e.id}`,id:"edit_parcel_order",name:ne("edit.parcel.order")})),te(`/parcel-orders/${e.id}`)})(l)},disabled:"delivered"===l.status||"canceled"===l.status||l.deleted_at}),(0,X.jsx)($.Z,{disabled:l.deleted_at,icon:(0,X.jsx)(j.Z,{}),onClick:e=>{e.stopPropagation(),$e([l.id]),Ze(!0),De(!0)}})]})}]),{setIsModalVisible:Ze}=(0,n.useContext)(D._),[fe,ge]=(0,n.useState)(!1),{activeMenu:be}=(0,g.v9)((e=>e.menu),g.wU),_e=(0,E.K)(),[Ie,Me]=(0,n.useState)(_e.values.status||"all"),He=(null===(e=be.data)||void 0===e?void 0:e.role)||Ie,ze=be.data,[Ve,$e]=(0,n.useState)(null),[Ne,De]=(0,n.useState)(null),[Ye,Pe]=(0,n.useState)(!1),[Fe,Oe]=(0,n.useState)(F()().subtract(1,"months"),F()()),{data:Ae,loading:Be,params:Le,meta:Te}=(0,g.v9)((e=>e.parcelOrders),g.wU),Ee={search:null===ze||void 0===ze?void 0:ze.search,sort:null===ze||void 0===ze?void 0:ze.sort,column:null===ze||void 0===ze?void 0:ze.column,perPage:null===ze||void 0===ze?void 0:ze.perPage,page:null===ze||void 0===ze?void 0:ze.page,user_id:null===ze||void 0===ze?void 0:ze.user_id,status:"deleted_at"===He||"all"===He?void 0:He,deleted_at:"deleted_at"===He?"deleted_at":void 0,shop_id:null!==(null===(l=be.data)||void 0===l?void 0:l.shop_id)?null===(t=be.data)||void 0===t?void 0:t.shop_id:null,delivery_type:"scheduled"!==W?W:void 0,delivery_date_from:"scheduled"===W?F()().add(1,"day").format("YYYY-MM-DD"):void 0,date_from:Fe?null===(a=Fe[0])||void 0===a?void 0:a.format("YYYY-MM-DD"):null,date_to:Fe?null===(P=Fe[1])||void 0===P?void 0:P.format("YYYY-MM-DD"):null};(0,_.Z)((()=>{J((0,C.LF)(Ee))}),[ze,Fe,W]);const Ue=(e,l)=>{J((0,y.nc)({activeMenu:be,data:{...ze,[l]:e}}))};const Re=()=>{ie(null),ce(null),oe(null),ve(null)};(0,n.useEffect)((()=>{null!==be&&void 0!==be&&be.refetch&&(J((0,C.LF)(Ee)),J((0,y.A_)(be)))}),[null===be||void 0===be?void 0:be.refetch]);const Ke={selectedRowKeys:Ve,onChange:e=>{$e(e)}},qe=(0,X.jsx)(r.Z,{children:"deleted_at"!==Ie?(0,X.jsx)(r.Z.Item,{onClick:()=>{se?V.Am.warning(ne("cannot.work.demo")):xe({delete:!0})},children:(0,X.jsxs)(o.Z,{children:[(0,X.jsx)(j.Z,{}),ne("delete.all")]})}):(0,X.jsx)(r.Z.Item,{onClick:()=>{se?V.Am.warning(ne("cannot.work.demo")):xe({restore:!0})},children:(0,X.jsxs)(o.Z,{children:[(0,X.jsx)(B.uOc,{}),ne("restore.all")]})})});return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(o.Z,{className:"justify-content-end w-100 mb-3",children:(0,X.jsx)(d.Z,{type:"primary",icon:(0,X.jsx)(Z.Z,{}),onClick:()=>{J((0,I.bn)()),J((0,y.bL)({id:"parcel-orders/add",url:"parcel-orders/add",name:"add.parcel.order"})),te("/parcel-orders/add")},style:{width:"100%"},children:ne("add.parcel.order")})}),(0,X.jsx)(c.Z,{children:(0,X.jsxs)(o.Z,{wrap:!0,className:"order-filter",children:[(0,X.jsx)(S.Z,{defaultValue:null===ze||void 0===ze?void 0:ze.search,resetSearch:!(null!==ze&&void 0!==ze&&ze.search),placeholder:ne("search"),handleChange:e=>Ue(e,"search")}),(0,X.jsx)(M.h,{placeholder:ne("select.client"),fetchOptions:async function(e){const l={search:e,perPage:10};return H.Z.search(l).then((e=>{let{data:l}=e;return l.map((e=>({label:`${e.firstname} ${e.lastname}`,value:e.id})))}))},onSelect:e=>Ue(e.value,"user_id"),onDeselect:()=>Ue(null,"user_id"),style:{width:"100%"},value:null===ze||void 0===ze?void 0:ze.user_id}),(0,X.jsx)(Se,{value:Fe,onChange:e=>Oe(e),disabledDate:e=>e&&e>F()().endOf("day"),style:{width:"100%"}}),"deleted_at"!==Ie&&(0,X.jsxs)(d.Z,{onClick:()=>{ge(!0);const e="all"!==Ie?{status:Ie}:null;N.Z.export(e).then((e=>{const l=O.S0+e.data.file_name;window.location.href=l})).finally((()=>ge(!1)))},loading:fe,style:{width:"100%"},children:[(0,X.jsx)(L.bwQ,{className:"mr-2"}),ne("export")]}),(0,X.jsx)(d.Z,{onClick:()=>{(0,g.dC)((()=>{J((0,w.H5)()),J((0,y.nc)({activeMenu:be,data:null})),J((0,C.LF)({status:void 0,page:null===ze||void 0===ze?void 0:ze.page,perPage:20}))})),Oe(void 0)},style:{width:"100%"},icon:(0,X.jsx)(f.Z,{}),children:ne("clear")})]})}),(0,X.jsxs)(c.Z,{children:[(0,X.jsxs)(o.Z,{className:"justify-content-between align-items-start w-100",children:[(0,X.jsx)(s.Z,{onChange:e=>{var l;const t=null===(l=he.find((l=>l.id===e)))||void 0===l?void 0:l.name;J((0,y.nc)({activeMenu:be,data:{role:t,page:1}})),Me(t),te(`?status=${t}`)},type:"card",activeKey:He,children:he.map((e=>(0,X.jsx)(ke,{tab:ne(e.name)},e.id)))}),(0,X.jsxs)(o.Z,{children:[null!==Ve&&0!==Ve.length&&(0,X.jsx)(u.Z,{title:ne("delete.selected"),children:(0,X.jsx)($.Z,{type:"primary",onClick:()=>{null===Ve||0===Ve.length?V.Am.warning(ne("select.the.product")):(Ze(!0),De(!1))},danger:!0})}),(0,X.jsx)(z.Z,{setColumns:je,columns:pe,iconOnly:!0}),(0,X.jsx)(v.Z,{overlay:qe,children:(0,X.jsx)(d.Z,{children:ne("options")})})]})]}),(0,X.jsx)(h.Z,{scroll:{x:!0},rowSelection:Ke,columns:null===pe||void 0===pe?void 0:pe.filter((e=>e.is_show)),dataSource:Ae,loading:Be,pagination:{pageSize:Le.perPage,page:(null===(q=be.data)||void 0===q?void 0:q.page)||1,total:Te.total,defaultCurrent:null===(Q=be.data)||void 0===Q?void 0:Q.page,current:null===(G=be.data)||void 0===G?void 0:G.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:n,current:s}=e,{field:a,order:i}=t,d=(0,k.Z)(i);J((0,y.nc)({activeMenu:be,data:{...ze,perPage:n,page:s,column:a,sort:d}}))}})]}),ae&&(0,X.jsx)(ee,{orderDetails:ae,handleCancel:Re,status:le}),re&&(0,X.jsx)(Ce,{orderDetails:re,handleCancel:Re}),de&&(0,X.jsx)(ye,{id:de,handleCancel:Re}),!!ue&&(0,X.jsx)(we,{id:ue,handleCancel:Re}),(0,X.jsx)(Y.Z,{click:()=>{Pe(!0);const e={...Object.assign({},...Ve.map(((e,l)=>({[`ids[${l}]`]:e}))))};N.Z.delete(e).then((()=>{V.Am.success(ne("successfully.deleted")),Ze(!1),J((0,C.LF)(Ee)),De(null)})).finally((()=>{$e(null),Pe(!1)}))},text:ne(Ne?"delete":"all.delete"),loading:Ye,setText:$e}),me&&(0,X.jsx)(T.Z,{open:me,handleCancel:()=>xe(null),click:me.restore?()=>{Pe(!0),N.Z.restoreAll().then((()=>{V.Am.success(ne("it.will.take.some.time.to.return.the.files")),J((0,C.LF)(Ee)),xe(null)})).finally((()=>Pe(!1)))}:()=>{Pe(!0),N.Z.dropAll().then((()=>{V.Am.success(ne("successfully.deleted")),J((0,C.LF)(Ee)),xe(null)})).finally((()=>Pe(!1)))},text:me.restore?ne("restore.modal.text"):ne("read.carefully"),subTitle:me.restore?"":ne("confirm.deletion"),loading:Ye,setText:$e})]})}},12056:(e,l,t)=>{"use strict";t.d(l,{Z:()=>o});var n=t(1413),s=t(72791);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var i=t(54291),d=function(e,l){return s.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:l,icon:a}))};d.displayName="ClearOutlined";const o=s.forwardRef(d)},31549:(e,l,t)=>{"use strict";t.d(l,{Z:()=>o});var n=t(1413),s=t(72791);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=t(54291),d=function(e,l){return s.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:l,icon:a}))};d.displayName="PlusCircleOutlined";const o=s.forwardRef(d)},99197:(e,l,t)=>{"use strict";t.d(l,{Z:()=>o});var n=t(1413),s=t(72791);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=t(54291),d=function(e,l){return s.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:l,icon:a}))};d.displayName="TableOutlined";const o=s.forwardRef(d)},84618:(e,l,t)=>{"use strict";e.exports=t.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:(e,l,t)=>{"use strict";e.exports=t.p+"static/media/user.fbe7078c52acde79652d.jpg"},24654:()=>{}}]);
//# sourceMappingURL=7436.2e4a4298.chunk.js.map