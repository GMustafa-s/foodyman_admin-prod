"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8489],{38489:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var i=s(72791),a=s(24215),l=s(82622),n=s(15797),d=s(83099),r=s(87309),o=s(54080),u=s(95332),c=s(30577),v=s(73182),h=s(52666),g=s(79337),x=s(48030),m=s(17076),p=s(28640),f=s(33168),w=s(24615),y=s(47320),_=s(72426),j=s.n(_),k=s(16871),Z=s(79586),C=s(255),b=s(9726),S=s(80184);function I(){const{t:e}=(0,f.$)(),t=(0,g.I0)(),s=(0,k.s0)(),_=i=>{t((0,x.bL)({url:`/users/user/${i.uuid}`,id:"user_info",name:e("user.info")})),s(`/users/user/${i.uuid}`,{state:{user_id:i.id}})},[I,M]=(0,i.useState)([{title:e("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:e("user"),dataIndex:"assign_user",key:"assign_user",is_show:!0,render:e=>(0,S.jsxs)("div",{className:"text-hover",onClick:()=>_(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,S.jsxs)("div",{className:"text-hover",onClick:()=>_(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,S.jsx)(n.Z,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>j()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(r.Z,{type:"primary",icon:(0,S.jsx)(a.Z,{}),onClick:()=>z(t.id)}),(0,S.jsx)(Z.Z,{icon:(0,S.jsx)(l.Z,{}),onClick:()=>{Y([t.id]),V(!0),N(!0)}})]})}]),{setIsModalVisible:V}=(0,i.useContext)(h._),[P,Y]=(0,i.useState)(null),[$,z]=(0,i.useState)(null),[A,H]=(0,i.useState)(!1),[D,N]=(0,i.useState)(null),{activeMenu:U}=(0,g.v9)((e=>e.menu),g.wU),{reviews:E,meta:K,loading:L,params:O}=(0,g.v9)((e=>e.deliveryboyReview),g.wU),R=U.data,T={sort:null===R||void 0===R?void 0:R.sort,column:null===R||void 0===R?void 0:R.column,perPage:null===R||void 0===R?void 0:R.perPage,page:null===R||void 0===R?void 0:R.page,assign:"deliveryman"};(0,i.useEffect)((()=>{U.refetch&&(t((0,b.Ve)(T)),t((0,x.A_)(U)))}),[U.refetch]),(0,m.Z)((()=>{t((0,b.Ve)(T))}),[U.data]);const q={id:P,onChange:e=>{Y(e)}};return(0,S.jsxs)(o.Z,{title:e("deliveryboy.reviews"),extra:(0,S.jsxs)(d.Z,{wrap:!0,children:[(0,S.jsx)(Z.Z,{size:"",onClick:()=>{null===P||0===P.length?c.Am.warning(e("select.the.product")):(V(!0),N(!1))},children:e("delete.selected")}),(0,S.jsx)(C.Z,{columns:I,setColumns:M})]}),children:[(0,S.jsx)(u.Z,{scroll:{x:!0},rowSelection:q,columns:null===I||void 0===I?void 0:I.filter((e=>e.is_show)),dataSource:E,pagination:{pageSize:O.perPage,page:O.page,total:K.total,defaultCurrent:O.page},rowKey:e=>e.id,onChange:function(e,s,i){const{pageSize:a,current:l}=e,{field:n,order:d}=i,r=(0,p.Z)(d);t((0,x.nc)({activeMenu:U,data:{perPage:a,page:l,column:n,sort:r}}))},loading:L}),(0,S.jsx)(v.Z,{click:()=>{H(!0);const s={...Object.assign({},...P.map(((e,t)=>({[`ids[${t}]`]:e}))))};w.Z.delete(s).then((()=>{c.Am.success(e("successfully.deleted")),t((0,b.Ve)()),V(!1)})).finally((()=>H(!1)))},text:e(D?"delete":"all.delete"),setText:Y,loading:A}),$&&(0,S.jsx)(y.Z,{id:$,handleCancel:()=>z(null)})]})}}}]);
//# sourceMappingURL=8489.72c4ada5.chunk.js.map