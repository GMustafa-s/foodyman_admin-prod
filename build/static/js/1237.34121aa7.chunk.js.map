{"version":3,"file":"static/js/1237.34121aa7.chunk.js","mappings":"mTAYe,SAASA,IACtB,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,KACRC,GAAWC,EAAAA,EAAAA,OACX,WAAEC,IAAeC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,MAAMC,EAAAA,IAEpDC,EAAcC,IACX,CACLC,IAAKD,EAAKE,KACVA,KAAMF,EAAKE,KACXC,OAAQ,OACRC,IAAKJ,EAAKE,KACVG,SAAS,IAyBb,OACEC,EAAAA,EAAAA,MAACC,EAAAA,EAAI,CAACC,MAAOlB,EAAE,UAAUmB,SAAA,EACvBH,EAAAA,EAAAA,MAAA,OAAKI,UAAU,QAAQC,KAAK,QAAOF,SAAA,EACjCH,EAAAA,EAAAA,MAAA,OAAKI,UAAU,eAAcD,SAAA,EAC3BG,EAAAA,EAAAA,KAACC,EAAAA,EAAkB,CAACH,UAAU,gBAC9BE,EAAAA,EAAAA,KAAA,KAAAH,SAAInB,EAAE,cAERgB,EAAAA,EAAAA,MAAA,MAAII,UAAU,OAAMD,SAAA,EAClBG,EAAAA,EAAAA,KAAA,MAAAH,SAAKnB,EAAE,oBACPsB,EAAAA,EAAAA,KAAA,MAAAH,SAAKnB,EAAE,oBACPsB,EAAAA,EAAAA,KAAA,MAAAH,SAAKnB,EAAE,oBACPsB,EAAAA,EAAAA,KAAA,MAAAH,SAAKnB,EAAE,0BAGXsB,EAAAA,EAAAA,KAACE,EAAAA,EAAM,CAACC,KAAK,UAAUL,UAAU,OAAOM,QAlBvBC,KACnB,MAAMC,EAAOC,EAAAA,GAAU,6BACvBC,OAAOC,SAASC,KAAOJ,GAgByCT,SAC3DnB,EAAE,mBAELgB,EAAAA,EAAAA,MAACiB,EAAAA,EAAO,CACNrB,KAAK,OACLsB,UAAU,EACVC,SAAU,EACVC,cA1CeC,IAAmC,IAAlC,KAAE3B,EAAI,UAAE4B,EAAS,QAAEC,GAASF,EAChD,MAAMG,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQhC,GACxB8B,EAASE,OAAO,UAAqB,OAAVtC,QAAU,IAAVA,OAAU,EAAVA,EAAYuC,SACvCC,EAAAA,EAAAA,OACUJ,GACPK,MAAMC,IACLC,EAAAA,GAAAA,QAAc/C,EAAE,wBAChBE,GAAS8C,EAAAA,EAAAA,IAAY,CAAE5C,WAAAA,EAAY0C,KAAMrC,EAAWC,MACpD4B,EAAU,MACVpC,GAAS+C,EAAAA,EAAAA,UAEVC,OAAOC,IACNZ,EAAQY,EAAIC,aA8BZC,gBAA2B,OAAVjD,QAAU,IAAVA,GAAAA,EAAY0C,KAAO,CAAW,OAAV1C,QAAU,IAAVA,OAAU,EAAVA,EAAY0C,MAAQ,KACzDQ,OAAO,oGAAmGnC,SAAA,EAE1GG,EAAAA,EAAAA,KAAA,KAAGF,UAAU,uBAAsBD,UACjCG,EAAAA,EAAAA,KAACiC,EAAAA,EAAa,OAEhBjC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kBAAiBD,SAAEnB,EAAE,kBAClCsB,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kBAAiBD,SAAEnB,EAAE","sources":["views/addons/addons-import.js"],"sourcesContent":["import React from 'react';\nimport { Button, Card } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport Dragger from 'antd/lib/upload/Dragger';\nimport { InboxOutlined, InfoCircleOutlined } from '@ant-design/icons';\nimport { toast } from 'react-toastify';\nimport { setMenuData } from '../../redux/slices/menu';\nimport { fetchProducts } from '../../redux/slices/product';\nimport { example } from '../../configs/app-global';\nimport productService from 'services/product';\n\nexport default function AddonsImport() {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n\n  const createFile = (file) => {\n    return {\n      uid: file.name,\n      name: file.name,\n      status: 'done',\n      url: file.name,\n      created: true,\n    };\n  };\n\n  const handleUpload = ({ file, onSuccess, onError }) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('shop_id', activeMenu?.shop_id);\n    productService\n      .import(formData)\n      .then((data) => {\n        toast.success(t('successfully.import'));\n        dispatch(setMenuData({ activeMenu, data: createFile(file) }));\n        onSuccess('ok');\n        dispatch(fetchProducts());\n      })\n      .catch((err) => {\n        onError(err.message);\n      });\n  };\n\n  const downloadFile = () => {\n    const body = example + 'import-example/addons.xlsx';\n    window.location.href = body;\n  };\n  return (\n    <Card title={t('import')}>\n      <div className='alert' role='alert'>\n        <div className='alert-header'>\n          <InfoCircleOutlined className='alert-icon' />\n          <p>{t('info')}</p>\n        </div>\n        <ol className='ml-4'>\n          <li>{t('import.text_1')}</li>\n          <li>{t('import.text_2')}</li>\n          <li>{t('import.text_3')}</li>\n          <li>{t('import.text_4')}</li>\n        </ol>\n      </div>\n      <Button type='primary' className='mb-4' onClick={downloadFile}>\n        {t('download.csv')}\n      </Button>\n      <Dragger\n        name='file'\n        multiple={false}\n        maxCount={1}\n        customRequest={handleUpload}\n        defaultFileList={activeMenu?.data ? [activeMenu?.data] : null}\n        accept='.csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n      >\n        <p className='ant-upload-drag-icon'>\n          <InboxOutlined />\n        </p>\n        <p className='ant-upload-text'>{t('upload-drag')}</p>\n        <p className='ant-upload-hint'>{t('upload-text')}</p>\n      </Dragger>\n    </Card>\n  );\n}\n"],"names":["AddonsImport","t","useTranslation","dispatch","useDispatch","activeMenu","useSelector","state","menu","shallowEqual","createFile","file","uid","name","status","url","created","_jsxs","Card","title","children","className","role","_jsx","InfoCircleOutlined","Button","type","onClick","downloadFile","body","example","window","location","href","Dragger","multiple","maxCount","customRequest","_ref","onSuccess","onError","formData","FormData","append","shop_id","productService","then","data","toast","setMenuData","fetchProducts","catch","err","message","defaultFileList","accept","InboxOutlined"],"sourceRoot":""}